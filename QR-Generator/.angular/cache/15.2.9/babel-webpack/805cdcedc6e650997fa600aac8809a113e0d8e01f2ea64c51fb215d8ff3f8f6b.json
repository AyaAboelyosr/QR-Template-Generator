{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \" Please enter your credentials. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"span\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_21_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"p\");\n    i0.ɵɵtext(2, \"Login Successful!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_div_21_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"p\");\n    i0.ɵɵtext(2, \"Login Failed. Please try again.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20);\n    i0.ɵɵtemplate(2, LoginComponent_div_21_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵtemplate(3, LoginComponent_div_21_div_3_Template, 3, 0, \"div\", 22);\n    i0.ɵɵtemplate(4, LoginComponent_div_21_div_4_Template, 3, 0, \"div\", 23);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isLoading && ctx_r2.loginSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isLoading && ctx_r2.loginError);\n  }\n}\nexport class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.email = '';\n    this.password = '';\n    this.showPassword = false;\n    this.showModal = false;\n    this.isLoading = false;\n    this.loginSuccess = false;\n    this.loginError = false;\n    this.showErrorSummary = false;\n  }\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n  onSubmit() {\n    this.authService.login(credentials).subscribe({\n      next: response => {\n        // Get user role from response or service\n        const role = this.authService.getRole();\n        // Redirect based on role\n        if (role === 'Admin') {\n          this.router.navigate(['/admin']);\n        } else {\n          this.router.navigate(['/QRCodeGenerator']);\n        }\n      },\n      error: err => {\n        // Handle error\n      }\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 22,\n    vars: 5,\n    consts: [[1, \"form-container\"], [1, \"flex\", \"justify-center\", \"mb-6\"], [\"src\", \"https://sdq.sa/uploads/settings/logo-2024-10-16-10-54-20-6838.svg\", \"alt\", \"Logo\", 1, \"w-32\", \"h-auto\"], [1, \"space-y-5\", 3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [\"type\", \"email\", \"placeholder\", \"Enter Email Address *\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"relative\"], [\"placeholder\", \"Enter Password *\", \"name\", \"password\", \"required\", \"\", 1, \"form-input\", 3, \"type\", \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"absolute\", \"inset-y-0\", \"right-0\", \"pr-3\", \"flex\", \"items-center\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"opacity\", \"0.5\", \"d\", \"M3.27489 15.2957C2.42496 14.1915 2 13.6394 2 12C2 10.3606 2.42496 9.80853 3.27489 8.70433C4.97196 6.49956 7.81811 4 12 4C16.1819 4 19.028 6.49956 20.7251 8.70433C21.575 9.80853 22 10.3606 22 12C22 13.6394 21.575 14.1915 20.7251 15.2957C19.028 17.5004 16.1819 20 12 20C7.81811 20 4.97196 17.5004 3.27489 15.2957Z\", \"stroke\", \"currentColor\", \"stroke-width\", \"1.5\"], [\"d\", \"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z\", \"stroke\", \"currentColor\", \"stroke-width\", \"1.5\"], [\"class\", \"text-red-500 text-sm\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"w-full\"], [1, \"text-center\", \"mt-4\"], [1, \"text-gray-600\"], [\"routerLink\", \"/register\", 1, \"text-blue-600\", \"hover:text-blue-800\", \"hover:underline\"], [\"class\", \"modal\", 4, \"ngIf\"], [1, \"text-red-500\", \"text-sm\"], [1, \"modal\"], [1, \"modal-content\"], [4, \"ngIf\"], [\"class\", \"text-green-500\", 4, \"ngIf\"], [\"class\", \"text-red-500\", 4, \"ngIf\"], [1, \"animate-spin\", \"border-4\", \"border-success\", \"border-l-transparent\", \"rounded-full\", \"w-10\", \"h-10\", \"inline-block\", \"align-middle\", \"m-auto\", \"mb-10\"], [1, \"text-green-500\"], [1, \"text-red-500\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(5, \"div\")(6, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_9_listener() {\n          return ctx.togglePasswordVisibility();\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(10, \"svg\", 9);\n        i0.ɵɵelement(11, \"path\", 10)(12, \"path\", 11);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(13, LoginComponent_div_13_Template, 2, 0, \"div\", 12);\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(14, \"button\", 13);\n        i0.ɵɵtext(15, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 14)(17, \"span\", 15);\n        i0.ɵɵtext(18, \"Don't have an account? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"a\", 16);\n        i0.ɵɵtext(20, \"Register\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(21, LoginComponent_div_21_Template, 5, 3, \"div\", 17);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\")(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.showErrorSummary);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n      }\n    },\n    dependencies: [i2.RouterLink, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.EmailValidator, i4.NgModel, i4.NgForm],\n    styles: [\".form-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    height: 100vh;\\n}\\n\\nform[_ngcontent-%COMP%] {\\n    width: 100%;\\n    max-width: 400px;\\n    padding: 20px;\\n    border: 1px solid #e2e8f0;\\n    border-radius: 8px;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n}\\n\\n.modal[_ngcontent-%COMP%] {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-color: rgba(0, 0, 0, 0.5);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    z-index: 1000;\\n}\\n\\n.modal-content[_ngcontent-%COMP%] {\\n    background-color: white;\\n    padding: 20px;\\n    border-radius: 8px;\\n    text-align: center;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n}\\n\\n.animate-spin[_ngcontent-%COMP%] {\\n    animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsK0NBQStDO0FBQy9DO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLHdDQUF3QztBQUM1Qzs7QUFFQTtJQUNJLGVBQWU7SUFDZixNQUFNO0lBQ04sT0FBTztJQUNQLFdBQVc7SUFDWCxZQUFZO0lBQ1osb0NBQW9DO0lBQ3BDLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGFBQWE7QUFDakI7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsd0NBQXdDO0FBQzVDOztBQUVBO0lBQ0ksa0NBQWtDO0FBQ3RDOztBQUVBO0lBQ0ksS0FBSyx1QkFBdUIsRUFBRTtJQUM5QixPQUFPLHlCQUF5QixFQUFFO0FBQ3RDIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBsb2dpbi5jb21wb25lbnQuY3NzIChzYW1lIGFzIHJlZ2lzdHJhdGlvbikgKi9cbi5mb3JtLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAxMDB2aDtcbn1cblxuZm9ybSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMmU4ZjA7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5tb2RhbCB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHotaW5kZXg6IDEwMDA7XG59XG5cbi5tb2RhbC1jb250ZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbn1cblxuLmFuaW1hdGUtc3BpbiB7XG4gICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyBzcGluIHtcbiAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aGVudGljYXRpb24vY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtDQUErQztBQUMvQztJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQix3Q0FBd0M7QUFDNUM7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsTUFBTTtJQUNOLE9BQU87SUFDUCxXQUFXO0lBQ1gsWUFBWTtJQUNaLG9DQUFvQztJQUNwQyxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHdDQUF3QztBQUM1Qzs7QUFFQTtJQUNJLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLEtBQUssdUJBQXVCLEVBQUU7SUFDOUIsT0FBTyx5QkFBeUIsRUFBRTtBQUN0QztBQUNBLG9oRUFBb2hFIiwic291cmNlc0NvbnRlbnQiOlsiLyogbG9naW4uY29tcG9uZW50LmNzcyAoc2FtZSBhcyByZWdpc3RyYXRpb24pICovXG4uZm9ybS1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGhlaWdodDogMTAwdmg7XG59XG5cbmZvcm0ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTJlOGYwO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xufVxuXG4ubW9kYWwge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB6LWluZGV4OiAxMDAwO1xufVxuXG4ubW9kYWwtY29udGVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5hbmltYXRlLXNwaW4ge1xuICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;;IAwBQA,oBAA2D;IAA3DA,+BAA2D;IACvDA,gDACJ;IAAAA,iBAAM;;;;;IAgBNA,2BAAuB;IACnBA,2BAA6I;IACjJA,iBAAM;;;;;IACNA,+BAA+D;IACxDA,iCAAiB;IAAAA,iBAAI;;;;;IAE5BA,+BAA2D;IACpDA,+CAA+B;IAAAA,iBAAI;;;;;IATlDA,+BAAqC;IAE7BA,uEAEM;IACNA,uEAEM;IACNA,uEAEM;IACVA,iBAAM;;;;IATIA,eAAe;IAAfA,uCAAe;IAGfA,eAAgC;IAAhCA,+DAAgC;IAGhCA,eAA8B;IAA9BA,6DAA8B;;;ACvC5C,OAAM,MAAOC,cAAc;EAUzBC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAT5D,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAW,EAAE;IACrB,iBAAY,GAAY,KAAK;IAC7B,cAAS,GAAY,KAAK;IAC1B,cAAS,GAAY,KAAK;IAC1B,iBAAY,GAAY,KAAK;IAC7B,eAAU,GAAY,KAAK;IAC3B,qBAAgB,GAAY,KAAK;EAEsC;EAEvEC,wBAAwB;IACtB,IAAI,CAACC,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY;EACxC;EAEAC,QAAQ;IACN,IAAI,CAACJ,WAAW,CAACK,KAAK,CAACC,WAAW,CAAC,CAACC,SAAS,CAAC;MAC5CC,IAAI,EAAGC,QAAQ,IAAI;QACjB;QACA,MAAMC,IAAI,GAAG,IAAI,CAACV,WAAW,CAACW,OAAO,EAAE;QAEvC;QACA,IAAID,IAAI,KAAK,OAAO,EAAE;UACpB,IAAI,CAACT,MAAM,CAACW,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;SACjC,MAAM;UACL,IAAI,CAACX,MAAM,CAACW,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;;MAE9C,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACb;MAAA;KAEH,CAAC;EACJ;EAAC;qBAjCUhB,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAiB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDT3BtB,8BAA4B;QAGpBA,yBAA8G;QAClHA,iBAAM;QAENA,kCAAoE;QAA5CA;UAAA,OAAYuB,cAAU;QAAA,EAAC;QAE3CvB,2BAAK;QAC0EA;UAAA;QAAA,EAAmB;QAA9FA,iBAA6H;QAIjIA,8BAAsB;QACmFA;UAAA;QAAA,EAAsB;QAA3HA,iBAAuJ;QACvJA,iCAAqH;QAArCA;UAAA,OAASuB,8BAA0B;QAAA,EAAC;QAChHvB,mBAA+F;QAA/FA,+BAA+F;QAC3FA,4BAAgY;QAEpYA,iBAAM;QAKdA,kEAEM;QAGNA,oBAAqD;QAArDA,mCAAqD;QAAAA,sBAAK;QAAAA,iBAAS;QAGnEA,gCAA8B;QACEA,wCAAuB;QAAAA,iBAAO;QAC1DA,8BAAoF;QAAAA,yBAAQ;QAAAA,iBAAI;QAM5GA,kEAYM;;;QA3CiFA,eAAmB;QAAnBA,mCAAmB;QAKvFA,eAA2C;QAA3CA,6DAA2C;QAUhDA,eAAsB;QAAtBA,2CAAsB;QAgB9BA,eAAe;QAAfA,oCAAe","names":["i0","LoginComponent","constructor","authService","router","togglePasswordVisibility","showPassword","onSubmit","login","credentials","subscribe","next","response","role","getRole","navigate","error","err","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\authentication\\components\\login\\login.component.html","C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\authentication\\components\\login\\login.component.ts"],"sourcesContent":["<div class=\"form-container\">\n    <!-- Centered Logo -->\n    <div class=\"flex justify-center mb-6\">\n        <img src=\"https://sdq.sa/uploads/settings/logo-2024-10-16-10-54-20-6838.svg\" alt=\"Logo\" class=\"w-32 h-auto\" />\n    </div>\n\n    <form class=\"space-y-5\" (ngSubmit)=\"onSubmit()\" #loginForm=\"ngForm\">\n        <!-- Email Field -->\n        <div>\n            <input type=\"email\" placeholder=\"Enter Email Address *\" class=\"form-input\" [(ngModel)]=\"email\" name=\"email\" required email />\n        </div>\n\n        <!-- Password Field -->\n        <div class=\"relative\">\n            <input [type]=\"showPassword ? 'text' : 'password'\" placeholder=\"Enter Password *\" class=\"form-input\" [(ngModel)]=\"password\" name=\"password\" required />\n            <button type=\"button\" class=\"absolute inset-y-0 right-0 pr-3 flex items-center\" (click)=\"togglePasswordVisibility()\">\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path opacity=\"0.5\" d=\"M3.27489 15.2957C2.42496 14.1915 2 13.6394 2 12C2 10.3606 2.42496 9.80853 3.27489 8.70433C4.97196 6.49956 7.81811 4 12 4C16.1819 4 19.028 6.49956 20.7251 8.70433C21.575 9.80853 22 10.3606 22 12C22 13.6394 21.575 14.1915 20.7251 15.2957C19.028 17.5004 16.1819 20 12 20C7.81811 20 4.97196 17.5004 3.27489 15.2957Z\" stroke=\"currentColor\" stroke-width=\"1.5\"></path>\n                    <path d=\"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z\" stroke=\"currentColor\" stroke-width=\"1.5\"></path>\n                </svg>\n            </button>\n        </div>\n\n        <!-- Error Summary Message -->\n        <div *ngIf=\"showErrorSummary\" class=\"text-red-500 text-sm\">\n            Please enter your credentials.\n        </div>\n\n        <!-- Submit Button -->\n        <button type=\"submit\" class=\"btn btn-primary w-full\">Login</button>\n\n        <!-- Registration Link -->\n        <div class=\"text-center mt-4\">\n            <span class=\"text-gray-600\">Don't have an account? </span>\n            <a routerLink=\"/register\" class=\"text-blue-600 hover:text-blue-800 hover:underline\">Register</a>\n        </div>\n    </form>\n</div>\n\n<!-- Modal (same as registration) -->\n<div *ngIf=\"showModal\" class=\"modal\">\n    <div class=\"modal-content\">\n        <div *ngIf=\"isLoading\">\n            <span class=\"animate-spin border-4 border-success border-l-transparent rounded-full w-10 h-10 inline-block align-middle m-auto mb-10\"></span>\n        </div>\n        <div *ngIf=\"!isLoading && loginSuccess\" class=\"text-green-500\">\n            <p>Login Successful!</p>\n        </div>\n        <div *ngIf=\"!isLoading && loginError\" class=\"text-red-500\">\n            <p>Login Failed. Please try again.</p>\n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  email: string = '';\n  password: string = '';\n  showPassword: boolean = false;\n  showModal: boolean = false;\n  isLoading: boolean = false;\n  loginSuccess: boolean = false;\n  loginError: boolean = false;\n  showErrorSummary: boolean = false;\n\n  constructor(private authService: AuthService, private router: Router) {}\n\n  togglePasswordVisibility(): void {\n    this.showPassword = !this.showPassword;\n  }\n\n  onSubmit() {\n    this.authService.login(credentials).subscribe({\n      next: (response) => {\n        // Get user role from response or service\n        const role = this.authService.getRole();\n        \n        // Redirect based on role\n        if (role === 'Admin') {\n          this.router.navigate(['/admin']);\n        } else {\n          this.router.navigate(['/QRCodeGenerator']);\n        }\n      },\n      error: (err) => {\n        // Handle error\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}