{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/qrtemplategenerator/services/template.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-custom-modal\";\nimport * as i5 from \"../../../shared/icon/icon-layout-grid\";\nimport * as i6 from \"../../../shared/icon/icon-list-check\";\nimport * as i7 from \"../../../shared/icon/icon-search\";\nimport * as i8 from \"../../../shared/icon/icon-user-plus\";\nimport * as i9 from \"@angular/router\";\nimport * as i10 from \"../template-details/template-details.component\";\nconst _c0 = [\"addTemplateModal\"];\nfunction ListTemplateComponent_ng_container_21_ng_container_14_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 25)(2, \"app-template-details\", 26);\n    i0.ɵɵlistener(\"sectionUpdated\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_Template_app_template_details_sectionUpdated_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.handleSectionUpdate());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const template_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"template\", ctx_r9.getTemplateWithSections(template_r8.id));\n  }\n}\nconst _c1 = function (a1) {\n  return [\"/admin/templates\", a1];\n};\nfunction ListTemplateComponent_ng_container_21_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"div\", 21)(10, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const template_r8 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.editTemplate(template_r8));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const template_r8 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.deleteTemplate(template_r8));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 24);\n    i0.ɵɵtext(15, \" View Details \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(16, ListTemplateComponent_ng_container_21_ng_container_14_tr_16_Template, 3, 1, \"tr\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const template_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(template_r8.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r8.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r8.uniqeCode);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c1, template_r8.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", template_r8.expanded);\n  }\n}\nfunction ListTemplateComponent_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 17)(2, \"table\", 18)(3, \"thead\")(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Unique Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 19);\n    i0.ɵɵtext(12, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, ListTemplateComponent_ng_container_21_ng_container_14_Template, 17, 7, \"ng-container\", 20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredTemplateList);\n  }\n}\nfunction ListTemplateComponent_ng_container_22_ng_container_2_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"app-template-details\", 26);\n    i0.ɵɵlistener(\"sectionUpdated\", function ListTemplateComponent_ng_container_22_ng_container_2_div_14_Template_app_template_details_sectionUpdated_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.handleSectionUpdate());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const template_r17 = i0.ɵɵnextContext().$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"template\", ctx_r18.getTemplateWithSections(template_r17.id));\n  }\n}\nfunction ListTemplateComponent_ng_container_22_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelement(2, \"div\", 29);\n    i0.ɵɵelementStart(3, \"div\", 30)(4, \"div\", 31)(5, \"div\", 1);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 32);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 33)(10, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const template_r17 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.editTemplate(template_r17));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const template_r17 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.deleteTemplate(template_r17));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, ListTemplateComponent_ng_container_22_ng_container_2_div_14_Template, 2, 1, \"div\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const template_r17 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(template_r17.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r17.uniqeCode);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", template_r17.expanded);\n  }\n}\nfunction ListTemplateComponent_ng_container_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 27);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_container_22_ng_container_2_Template, 15, 3, \"ng-container\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredTemplateList);\n  }\n}\nfunction ListTemplateComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.params.controls[\"id\"].value ? \"Edit Template\" : \"Add Template\");\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title must be at least 3 characters long.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title cannot be more than 100 characters long.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_27_div_5_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_template_27_div_5_div_2_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(3, ListTemplateComponent_ng_template_27_div_5_div_3_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.params.controls[\"title\"].errors == null ? null : ctx_r25.params.controls[\"title\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.params.controls[\"title\"].errors == null ? null : ctx_r25.params.controls[\"title\"].errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.params.controls[\"title\"].errors == null ? null : ctx_r25.params.controls[\"title\"].errors[\"maxlength\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Unique Code is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Unique Code must follow the pattern SI-XXX.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_27_div_10_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_template_27_div_10_div_2_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.params.controls[\"uniqeCode\"].errors == null ? null : ctx_r26.params.controls[\"uniqeCode\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.params.controls[\"uniqeCode\"].errors == null ? null : ctx_r26.params.controls[\"uniqeCode\"].errors[\"pattern\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 39);\n    i0.ɵɵlistener(\"ngSubmit\", function ListTemplateComponent_ng_template_27_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.saveTemplate());\n    });\n    i0.ɵɵelementStart(1, \"div\", 40)(2, \"label\", 41);\n    i0.ɵɵtext(3, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 42);\n    i0.ɵɵtemplate(5, ListTemplateComponent_ng_template_27_div_5_Template, 4, 3, \"div\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 40)(7, \"label\", 44);\n    i0.ɵɵtext(8, \"Unique Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 45);\n    i0.ɵɵtemplate(10, ListTemplateComponent_ng_template_27_div_10_Template, 3, 2, \"div\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 46)(12, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_template_27_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r33);\n      i0.ɵɵnextContext();\n      const _r2 = i0.ɵɵreference(24);\n      return i0.ɵɵresetView(_r2.close());\n    });\n    i0.ɵɵtext(13, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 48);\n    i0.ɵɵtext(15, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r6.params);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.params.controls[\"title\"].invalid && ctx_r6.params.controls[\"title\"].touched);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.params.controls[\"uniqeCode\"].invalid && ctx_r6.params.controls[\"uniqeCode\"].touched);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"bg-primary text-white\": a0\n  };\n};\nexport class ListTemplateComponent {\n  constructor(fb, templateService) {\n    this.fb = fb;\n    this.templateService = templateService;\n    this.filteredTemplateList = [];\n    this.searchTemplate = '';\n    this.templateList = [];\n    this.displayType = 'list';\n    this.selectedTemplate = null;\n  }\n  ngOnInit() {\n    this.initForm();\n    this.loadTemplates();\n  }\n  initForm() {\n    this.params = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      uniqeCode: ['', [Validators.required, Validators.pattern(/^[A-Z]{2}-\\d{3}$/)]]\n    });\n  }\n  loadTemplates() {\n    this.templateService.getAllTemplates().subscribe(templates => {\n      this.templateList = templates;\n      if (this.templateList.length > 0) {\n        this.selectedTemplate = this.templateList[0];\n      }\n      this.searchTemplates();\n    });\n  }\n  searchTemplates() {\n    this.filteredTemplateList = this.templateList.filter(template => template.title.toLowerCase().includes(this.searchTemplate.toLowerCase()));\n  }\n  editTemplate(template = null) {\n    if (this.addTemplateModal) {\n      this.addTemplateModal.open();\n      this.initForm();\n      if (template) {\n        this.params.setValue({\n          id: template.id,\n          title: template.title,\n          uniqeCode: template.uniqeCode\n        });\n      }\n    } else {\n      console.error('addTemplateModal is not defined');\n    }\n  }\n  saveTemplate() {\n    if (this.params.invalid) {\n      this.showMessage('Please fill all required fields correctly.', 'error');\n      return;\n    }\n    const template = this.params.value;\n    if (template.id) {\n      this.templateService.updateTemplate(template.id.toString(), template).subscribe(() => {\n        const existingTemplate = this.templateList.find(t => t.id === template.id);\n        if (existingTemplate) {\n          Object.assign(existingTemplate, template);\n        }\n        this.searchTemplates();\n        this.showMessage('Template has been updated successfully.');\n        this.addTemplateModal.close();\n      });\n    } else {\n      this.templateService.addTemplate(template).subscribe(newTemplate => {\n        this.templateList.unshift(newTemplate);\n        this.searchTemplates();\n        this.showMessage('Template has been added successfully.');\n        this.addTemplateModal.close();\n      }, error => {\n        this.showMessage('Failed to add template. Please try again.', 'error');\n      });\n    }\n  }\n  deleteTemplate(template) {\n    this.templateService.deleteTemplate(template.id.toString()).subscribe(() => {\n      this.templateList = this.templateList.filter(t => t.id !== template.id);\n      this.searchTemplates();\n      this.showMessage('Template has been deleted successfully.');\n    }, error => {\n      this.showMessage(error, 'error');\n    });\n  }\n  showMessage(msg, type = 'success') {\n    Swal.fire({\n      icon: type,\n      title: msg,\n      toast: true,\n      position: 'top',\n      showConfirmButton: false,\n      timer: 3000,\n      customClass: {\n        container: 'toast'\n      }\n    });\n  }\n  getTemplateWithSections(templateId) {\n    const template = this.templateList.find(t => t.id === templateId);\n    con;\n    if (template) {\n      this.templateService.getTemplateById(templateId.toString()).subscribe(fullTemplate => {\n        const index = this.templateList.findIndex(t => t.id === templateId);\n        if (index !== -1) {\n          this.templateList[index] = {\n            ...template,\n            ...fullTemplate\n          };\n          console.log('Full template with sections:', this.templateList[index]);\n        }\n      }, error => this.showMessage('Failed to load template details.', 'error'));\n      return template;\n    }\n    return {\n      id: 0,\n      title: '',\n      uniqeCode: '',\n      sections: []\n    };\n  }\n  handleSectionUpdate() {\n    // Refresh your template list data here if needed\n    this.loadTemplates();\n  }\n  toggleSections(template) {\n    if (!template.expanded) {\n      this.templateService.getTemplateById(template.id.toString()).subscribe(fullTemplate => {\n        const index = this.templateList.findIndex(t => t.id === template.id);\n        this.templateList[index] = {\n          ...template,\n          ...fullTemplate\n        };\n        template.expanded = true;\n      });\n    } else {\n      template.expanded = !template.expanded;\n    }\n  }\n  static #_ = this.ɵfac = function ListTemplateComponent_Factory(t) {\n    return new (t || ListTemplateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TemplateService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListTemplateComponent,\n    selectors: [[\"app-list-template\"]],\n    viewQuery: function ListTemplateComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addTemplateModal = _t.first);\n      }\n    },\n    decls: 29,\n    vars: 9,\n    consts: [[1, \"flex\", \"flex-wrap\", \"items-center\", \"justify-between\", \"gap-4\"], [1, \"text-xl\"], [1, \"flex\", \"w-full\", \"flex-col\", \"gap-4\", \"sm:w-auto\", \"sm:flex-row\", \"sm:items-center\", \"sm:gap-3\"], [1, \"flex\", \"gap-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"ltr:mr-2\", \"rtl:ml-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"p-2\", 3, \"ngClass\", \"click\"], [1, \"relative\"], [\"type\", \"text\", \"placeholder\", \"Search Templates\", \"name\", \"searchTemplate\", 1, \"peer\", \"form-input\", \"py-2\", \"ltr:pr-11\", \"rtl:pl-11\", 3, \"ngModel\", \"ngModelChange\"], [1, \"absolute\", \"top-1/2\", \"-translate-y-1/2\", \"peer-focus:text-primary\", \"ltr:right-[11px]\", \"rtl:left-[11px]\"], [1, \"mx-auto\"], [1, \"panel\", \"mt-5\", \"overflow-hidden\", \"border-0\", \"p-0\"], [4, \"ngIf\"], [1, \"no-footer\"], [\"addTemplateModal\", \"\"], [\"modalHeader\", \"\"], [\"modalBody\", \"\"], [1, \"table-responsive\"], [1, \"table-striped\", \"table-hover\"], [1, \"!text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"justify-center\", \"gap-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"routerLink\"], [\"colspan\", \"4\"], [3, \"template\", \"sectionUpdated\"], [1, \"grid\", \"w-full\", \"grid-cols-1\", \"gap-6\", \"sm:grid-cols-2\", \"xl:grid-cols-3\", \"2xl:grid-cols-4\"], [1, \"relative\", \"overflow-hidden\", \"rounded-md\", \"bg-white\", \"text-center\", \"shadow\", \"dark:bg-[#1c232f]\"], [1, \"rounded-t-md\", \"bg-white/40\", \"bg-[url('/assets/images/notification-bg.png')]\", \"bg-cover\", \"bg-center\", \"p-6\", \"pb-0\"], [1, \"relative\", \"-mt-10\", \"px-6\", \"pb-24\"], [1, \"rounded-md\", \"bg-white\", \"px-2\", \"py-4\", \"shadow-md\", \"dark:bg-gray-900\"], [1, \"text-white-dark\"], [1, \"absolute\", \"bottom-0\", \"mt-6\", \"flex\", \"w-full\", \"gap-4\", \"p-6\", \"ltr:left-0\", \"rtl:right-0\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"w-1/2\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", \"w-1/2\", 3, \"click\"], [\"class\", \"section-list\", 4, \"ngIf\"], [1, \"section-list\"], [1, \"!font-medium\"], [\"ngNativeValidate\", \"\", 1, \"text-sm\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-5\"], [\"for\", \"title\"], [\"id\", \"title\", \"type\", \"text\", \"placeholder\", \"Enter Title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"class\", \"text-red-500\", 4, \"ngIf\"], [\"for\", \"uniqeCode\"], [\"id\", \"uniqeCode\", \"type\", \"text\", \"placeholder\", \"Enter Unique Code\", \"formControlName\", \"uniqeCode\", 1, \"form-input\"], [1, \"mt-8\", \"flex\", \"items-center\", \"justify-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"ltr:ml-4\", \"rtl:ml-4\"], [1, \"text-red-500\"]],\n    template: function ListTemplateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"h2\", 1);\n        i0.ɵɵtext(3, \"Templates\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\")(7, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function ListTemplateComponent_Template_button_click_7_listener() {\n          return ctx.editTemplate();\n        });\n        i0.ɵɵelement(8, \"icon-user-plus\", 5);\n        i0.ɵɵtext(9, \" Add Template \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\")(11, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ListTemplateComponent_Template_button_click_11_listener() {\n          return ctx.displayType = \"list\";\n        });\n        i0.ɵɵelement(12, \"icon-list-check\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\")(14, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ListTemplateComponent_Template_button_click_14_listener() {\n          return ctx.displayType = \"grid\";\n        });\n        i0.ɵɵelement(15, \"icon-layout-grid\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"div\", 7)(17, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ListTemplateComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.searchTemplate = $event;\n        })(\"ngModelChange\", function ListTemplateComponent_Template_input_ngModelChange_17_listener() {\n          return ctx.searchTemplates();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 9);\n        i0.ɵɵelement(19, \"icon-search\", 10);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(20, \"div\", 11);\n        i0.ɵɵtemplate(21, ListTemplateComponent_ng_container_21_Template, 15, 1, \"ng-container\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, ListTemplateComponent_ng_container_22_Template, 3, 1, \"ng-container\", 12);\n        i0.ɵɵelementStart(23, \"modal\", 13, 14);\n        i0.ɵɵtemplate(25, ListTemplateComponent_ng_template_25_Template, 2, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(27, ListTemplateComponent_ng_template_27_Template, 16, 3, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c2, ctx.displayType === \"list\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c2, ctx.displayType === \"grid\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTemplate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayType === \"list\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayType === \"grid\");\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.NgModel, i4.ModalComponent, i1.FormGroupDirective, i1.FormControlName, i5.IconLayoutGridComponent, i6.IconListCheckComponent, i7.IconSearchComponent, i8.IconUserPlusComponent, i9.RouterLink, i10.TemplateDetailsComponent],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0LXRlbXBsYXRlLmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcXJ0ZW1wbGF0ZWdlbmVyYXRvci9jb21wb25lbnRzL2xpc3QtdGVtcGxhdGUvbGlzdC10ZW1wbGF0ZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw0S0FBNEsiLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","Swal","i0","ListTemplateComponent","constructor","fb","templateService","ngOnInit","initForm","loadTemplates","params","group","id","title","required","minLength","maxLength","uniqeCode","pattern","getAllTemplates","subscribe","templates","templateList","length","selectedTemplate","searchTemplates","filteredTemplateList","filter","template","toLowerCase","includes","searchTemplate","editTemplate","addTemplateModal","open","setValue","console","error","saveTemplate","invalid","showMessage","value","updateTemplate","toString","existingTemplate","find","t","Object","assign","close","addTemplate","newTemplate","unshift","deleteTemplate","msg","type","fire","icon","toast","position","showConfirmButton","timer","customClass","container","getTemplateWithSections","templateId","con","getTemplateById","fullTemplate","index","findIndex","log","sections","handleSectionUpdate","toggleSections","expanded","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\list-template\\list-template.component.ts","C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\list-template\\list-template.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport { TemplateService } from 'src/app/qrtemplategenerator/services/template.service';\nimport { Template } from 'src/app/qrtemplategenerator/Models/Template';\nimport { ModalComponent } from 'angular-custom-modal';\n\n@Component({\n  selector: 'app-list-template',\n  templateUrl: './list-template.component.html',\n  styleUrls: ['./list-template.component.css']\n})\nexport class ListTemplateComponent implements OnInit {\n  @ViewChild('addTemplateModal') addTemplateModal!: ModalComponent;\n  params!: FormGroup;\n  filteredTemplateList: Template[] = [];\n  searchTemplate = '';\n  templateList: Template[] = [];\n  displayType = 'list';\n\n  constructor(private fb: FormBuilder, private templateService: TemplateService) {}\n\n  ngOnInit() {\n    this.initForm();\n    this.loadTemplates();\n  }\n\n  initForm() {\n    this.params = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      uniqeCode: ['', [Validators.required, Validators.pattern(/^[A-Z]{2}-\\d{3}$/)]],\n    });\n  }\n\n  selectedTemplate: Template | null = null;\n\n  loadTemplates() {\n    this.templateService.getAllTemplates().subscribe((templates) => {\n      this.templateList = templates;\n      if (this.templateList.length > 0) {\n        this.selectedTemplate = this.templateList[0];\n      }\n      this.searchTemplates();\n    });\n  }\n  \n\n  searchTemplates() {\n    this.filteredTemplateList = this.templateList.filter(template =>\n      template.title.toLowerCase().includes(this.searchTemplate.toLowerCase())\n    );\n  }\n\n  editTemplate(template: Template | null = null) {\n    if (this.addTemplateModal) {\n      this.addTemplateModal.open();\n      this.initForm();\n      if (template) {\n        this.params.setValue({\n          id: template.id,\n          title: template.title,\n          uniqeCode: template.uniqeCode,\n        });\n      }\n    } else {\n      console.error('addTemplateModal is not defined');\n    }\n  }\n\n  saveTemplate() {\n    if (this.params.invalid) {\n      this.showMessage('Please fill all required fields correctly.', 'error');\n      return;\n    }\n  \n    const template: Template = this.params.value;\n  \n    if (template.id) {\n      this.templateService.updateTemplate(template.id.toString(), template).subscribe(() => {\n        const existingTemplate = this.templateList.find(t => t.id === template.id);\n        if (existingTemplate) {\n          Object.assign(existingTemplate, template);\n        }\n        this.searchTemplates();\n        this.showMessage('Template has been updated successfully.');\n        this.addTemplateModal.close();\n      });\n    } else {\n      this.templateService.addTemplate(template).subscribe((newTemplate) => {\n        this.templateList.unshift(newTemplate);\n        this.searchTemplates();\n        this.showMessage('Template has been added successfully.');\n        this.addTemplateModal.close();\n      }, (error) => {\n        this.showMessage('Failed to add template. Please try again.', 'error');\n      });\n    }\n  }\n\n  deleteTemplate(template: Template) {\n    this.templateService.deleteTemplate(template.id.toString()).subscribe(() => {\n      this.templateList = this.templateList.filter(t => t.id !== template.id);\n      this.searchTemplates();\n      this.showMessage('Template has been deleted successfully.');\n    }, error => {\n      this.showMessage(error, 'error');\n    });\n  }\n  showMessage(msg: string, type: 'success' | 'error' = 'success') {\n    Swal.fire({\n      icon: type,\n      title: msg,\n      toast: true,\n      position: 'top',\n      showConfirmButton: false,\n      timer: 3000,\n      customClass: { container: 'toast' },\n    });\n  }\n\n  getTemplateWithSections(templateId: number): Template {\n    const template = this.templateList.find(t => t.id === templateId);\n    con\n    if (template) {\n      this.templateService.getTemplateById(templateId.toString()).subscribe(\n        (fullTemplate) => {\n          const index = this.templateList.findIndex(t => t.id === templateId);\n          if (index !== -1) {\n            this.templateList[index] = { ...template, ...fullTemplate };\n            console.log('Full template with sections:', this.templateList[index]);\n          }\n        },\n        (error) => this.showMessage('Failed to load template details.', 'error')\n      );\n      return template;\n    }\n    return { id: 0, title: '', uniqeCode: '', sections: [] };\n  }\n  \n  \n  \n  handleSectionUpdate() {\n    // Refresh your template list data here if needed\n    this.loadTemplates();\n  }\n  \n\n  toggleSections(template: Template) {\n    if (!template.expanded) {\n      this.templateService.getTemplateById(template.id.toString())\n        .subscribe(fullTemplate => {\n          const index = this.templateList.findIndex(t => t.id === template.id);\n          this.templateList[index] = { ...template, ...fullTemplate };\n          template.expanded = true;\n        });\n    } else {\n      template.expanded = !template.expanded;\n    }\n  }\n\n  \n\n}","<div>\n    <div class=\"flex flex-wrap items-center justify-between gap-4\">\n        <h2 class=\"text-xl\">Templates</h2>\n        <div class=\"flex w-full flex-col gap-4 sm:w-auto sm:flex-row sm:items-center sm:gap-3\">\n            <div class=\"flex gap-3\">\n                <div>\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"editTemplate()\">\n                        <icon-user-plus class=\"ltr:mr-2 rtl:ml-2\" />\n                        Add Template\n                    </button>\n                </div>\n                <div>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-outline-primary p-2\"\n                        [ngClass]=\"{ 'bg-primary text-white': displayType === 'list' }\"\n                        (click)=\"displayType = 'list'\"\n                    >\n                        <icon-list-check />\n                    </button>\n                </div>\n                <div>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-outline-primary p-2\"\n                        [ngClass]=\"{ 'bg-primary text-white': displayType === 'grid' }\"\n                        (click)=\"displayType = 'grid'\"\n                    >\n                        <icon-layout-grid />\n                    </button>\n                </div>\n            </div>\n\n            <div class=\"relative\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search Templates\"\n                    class=\"peer form-input py-2 ltr:pr-11 rtl:pl-11\"\n                    [(ngModel)]=\"searchTemplate\"\n                    name=\"searchTemplate\"\n                    (ngModelChange)=\"searchTemplates()\"\n                />\n                <div class=\"absolute top-1/2 -translate-y-1/2 peer-focus:text-primary ltr:right-[11px] rtl:left-[11px]\">\n                    <icon-search class=\"mx-auto\" />\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel mt-5 overflow-hidden border-0 p-0\">\n        <ng-container *ngIf=\"displayType === 'list'\">\n            <div class=\"table-responsive\">\n                <table class=\"table-striped table-hover\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>Title</th>\n                            <th>Unique Code</th>\n                            <th class=\"!text-center\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-container *ngFor=\"let template of filteredTemplateList\">\n                            <tr>\n                                <td>{{ template.id }}</td>\n                                <td>{{ template.title }}</td>\n                                <td>{{ template.uniqeCode }}</td>\n                                <td>\n                                    <div class=\"flex items-center justify-center gap-4\">\n                                        <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"editTemplate(template)\">Edit</button>\n                                        <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteTemplate(template)\">Delete</button>\n                                        <a [routerLink]=\"['/admin/templates', template.id]\" \n                                        class=\"btn btn-sm btn-outline-secondary\">\n                                        View Details\n                                      </a>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr *ngIf=\"template.expanded\">\n                                <td colspan=\"4\">\n                                  <app-template-details \n                                    [template]=\"getTemplateWithSections(template.id)\"\n                                    (sectionUpdated)=\"handleSectionUpdate()\">\n                                  </app-template-details>\n                                </td>\n                              </tr>\n                        </ng-container>\n                    </tbody>\n                </table>\n            </div>\n        </ng-container>\n    </div>\n    <ng-container *ngIf=\"displayType === 'grid'\">\n        <div class=\"grid w-full grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\">\n            <ng-container *ngFor=\"let template of filteredTemplateList\">\n                <div class=\"relative overflow-hidden rounded-md bg-white text-center shadow dark:bg-[#1c232f]\">\n                    <div class=\"rounded-t-md bg-white/40 bg-[url('/assets/images/notification-bg.png')] bg-cover bg-center p-6 pb-0\">\n                        <!-- Optional: Add an image/placeholder if needed -->\n                    </div>\n                    <div class=\"relative -mt-10 px-6 pb-24\">\n                        <div class=\"rounded-md bg-white px-2 py-4 shadow-md dark:bg-gray-900\">\n                            <div class=\"text-xl\">{{ template.title }}</div>\n                            <div class=\"text-white-dark\">{{ template.uniqeCode }}</div>\n                        </div>\n                        <div class=\"absolute bottom-0 mt-6 flex w-full gap-4 p-6 ltr:left-0 rtl:right-0\">\n                            <button type=\"button\" class=\"btn btn-outline-primary w-1/2\" (click)=\"editTemplate(template)\">Edit</button>\n                            <button type=\"button\" class=\"btn btn-outline-danger w-1/2\" (click)=\"deleteTemplate(template)\">Delete</button>\n                        </div>\n                        <div *ngIf=\"template.expanded\" class=\"section-list\">\n                            <app-template-details \n                              [template]=\"getTemplateWithSections(template.id)\"\n                              (sectionUpdated)=\"handleSectionUpdate()\">\n                            </app-template-details>\n                          </div>\n                    </div>\n                </div>\n            </ng-container>\n        </div>\n    </ng-container>\n\n    <!-- Add/Edit Template Modal -->\n    <modal #addTemplateModal class=\"no-footer\">\n        <ng-template #modalHeader>\n            <div class=\"!font-medium\">{{ params.controls['id'].value ? 'Edit Template' : 'Add Template' }}</div>\n        </ng-template>\n        <ng-template #modalBody>\n            <form [formGroup]=\"params\" class=\"text-sm\" (ngSubmit)=\"saveTemplate()\" ngNativeValidate>\n                <div class=\"mb-5\">\n                    <label for=\"title\">Title</label>\n                    <input id=\"title\" type=\"text\" placeholder=\"Enter Title\" class=\"form-input\" formControlName=\"title\" />\n                    <div *ngIf=\"params.controls['title'].invalid && params.controls['title'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"params.controls['title'].errors?.['required']\">Title is required.</div>\n                        <div *ngIf=\"params.controls['title'].errors?.['minlength']\">Title must be at least 3 characters long.</div>\n                        <div *ngIf=\"params.controls['title'].errors?.['maxlength']\">Title cannot be more than 100 characters long.</div>\n                    </div>\n                </div>\n                <div class=\"mb-5\">\n                    <label for=\"uniqeCode\">Unique Code</label>\n                    <input id=\"uniqeCode\" type=\"text\" placeholder=\"Enter Unique Code\" class=\"form-input\" formControlName=\"uniqeCode\" />\n                    <div *ngIf=\"params.controls['uniqeCode'].invalid && params.controls['uniqeCode'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"params.controls['uniqeCode'].errors?.['required']\">Unique Code is required.</div>\n                        <div *ngIf=\"params.controls['uniqeCode'].errors?.['pattern']\">Unique Code must follow the pattern SI-XXX.</div>\n                    </div>\n                </div>\n                <div class=\"mt-8 flex items-center justify-end\">\n                    <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"addTemplateModal.close()\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-primary ltr:ml-4 rtl:ml-4\">Save</button>\n                </div>\n            </form>\n        </ng-template>\n    </modal>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}