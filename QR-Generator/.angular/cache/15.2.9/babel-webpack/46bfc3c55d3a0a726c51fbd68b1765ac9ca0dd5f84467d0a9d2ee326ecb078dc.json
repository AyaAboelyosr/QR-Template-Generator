{"ast":null,"code":"import { animate, style, transition, trigger } from '@angular/animations';\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/qrtemplategenerator/services/template.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-custom-modal\";\nimport * as i5 from \"../../../shared/icon/icon-layout-grid\";\nimport * as i6 from \"../../../shared/icon/icon-list-check\";\nimport * as i7 from \"../../../shared/icon/icon-search\";\nimport * as i8 from \"../../../shared/icon/icon-user-plus\";\nconst _c0 = [\"addTemplateModal\"];\nconst _c1 = [\"addSectionModal\"];\nconst _c2 = [\"addFieldModal\"];\nconst _c3 = [\"addContactModal\"];\nfunction ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 34);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"div\", 24)(10, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_ng_container_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const field_r24 = restoredCtx.$implicit;\n      const section_r21 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r25.editField(section_r21, field_r24));\n    });\n    i0.ɵɵtext(11, \"Edit Field\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_ng_container_15_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const field_r24 = restoredCtx.$implicit;\n      const section_r21 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r28 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r28.deleteField(section_r21, field_r24.id));\n    });\n    i0.ɵɵtext(13, \"Delete Field\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const field_r24 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(field_r24.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r24.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r24.isRequired ? \"Yes\" : \"No\");\n  }\n}\nfunction ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 30)(2, \"div\", 19)(3, \"table\", 20)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Field Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Required\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 21);\n    i0.ɵɵtext(13, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_ng_container_15_Template, 14, 3, \"ng-container\", 33);\n    i0.ɵɵelementStart(16, \"tr\")(17, \"td\", 28)(18, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const section_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r30.editField(section_r21));\n    });\n    i0.ɵɵtext(19, \"Add Field\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const section_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", section_r21.fields);\n  }\n}\nfunction ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 32);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"div\", 24)(8, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const section_r21 = restoredCtx.$implicit;\n      const template_r18 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.editSection(template_r18.id, section_r21));\n    });\n    i0.ɵɵtext(9, \"Edit Section\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const section_r21 = restoredCtx.$implicit;\n      const template_r18 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.deleteSection(template_r18.id, section_r21.id));\n    });\n    i0.ɵɵtext(11, \"Delete Section\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const section_r21 = restoredCtx.$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r39.loadFields(section_r21));\n    });\n    i0.ɵɵtext(13, \"View Fields\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(14, ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_tr_14_Template, 20, 1, \"tr\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r21 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(section_r21.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(section_r21.type);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", section_r21.fields);\n  }\n}\nfunction ListTemplateComponent_ng_container_21_ng_container_14_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 28)(2, \"div\", 19)(3, \"table\", 20)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Section Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 21);\n    i0.ɵɵtext(11, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ListTemplateComponent_ng_container_21_ng_container_14_tr_16_ng_container_13_Template, 15, 3, \"ng-container\", 29);\n    i0.ɵɵelementStart(14, \"tr\")(15, \"td\", 30)(16, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_tr_16_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const template_r18 = i0.ɵɵnextContext().$implicit;\n      const ctx_r40 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r40.editSection(template_r18.id));\n    });\n    i0.ɵɵtext(17, \"Add Section\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const template_r18 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", template_r18.sections);\n  }\n}\nfunction ListTemplateComponent_ng_container_21_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 23);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"div\", 24)(10, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const template_r18 = restoredCtx.$implicit;\n      const ctx_r44 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r44.editTemplate(template_r18));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const template_r18 = restoredCtx.$implicit;\n      const ctx_r46 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r46.deleteTemplate(template_r18));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_21_ng_container_14_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const template_r18 = restoredCtx.$implicit;\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.loadSections(template_r18.id));\n    });\n    i0.ɵɵtext(15, \"View Sections\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(16, ListTemplateComponent_ng_container_21_ng_container_14_tr_16_Template, 18, 1, \"tr\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const template_r18 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(template_r18.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r18.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r18.uniqeCode);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", template_r18.sections);\n  }\n}\nfunction ListTemplateComponent_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 19)(2, \"table\", 20)(3, \"thead\")(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Unique Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 21);\n    i0.ɵɵtext(12, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, ListTemplateComponent_ng_container_21_ng_container_14_Template, 17, 4, \"ng-container\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredTemplateList);\n  }\n}\nfunction ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 52)(8, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_div_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const field_r54 = restoredCtx.$implicit;\n      const section_r51 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r55 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r55.editField(section_r51, field_r54));\n    });\n    i0.ɵɵtext(9, \"Edit Field\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_div_1_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const field_r54 = restoredCtx.$implicit;\n      const section_r51 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r58 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r58.deleteField(section_r51, field_r54.id));\n    });\n    i0.ɵɵtext(11, \"Delete Field\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const field_r54 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r54.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Type: \", field_r54.type, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Required: \", field_r54.isRequired ? \"Yes\" : \"No\", \"\");\n  }\n}\nfunction ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_div_1_Template, 12, 3, \"div\", 50);\n    i0.ɵɵelementStart(2, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r62);\n      const section_r51 = i0.ɵɵnextContext().$implicit;\n      const ctx_r60 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r60.editField(section_r51));\n    });\n    i0.ɵɵtext(3, \"Add Field\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const section_r51 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r51.fields);\n  }\n}\nfunction ListTemplateComponent_ng_container_22_ng_container_2_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r66 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 47)(6, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_div_15_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r66);\n      const section_r51 = restoredCtx.$implicit;\n      const template_r49 = i0.ɵɵnextContext().$implicit;\n      const ctx_r64 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r64.editSection(template_r49.id, section_r51));\n    });\n    i0.ɵɵtext(7, \"Edit Section\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_div_15_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r66);\n      const section_r51 = restoredCtx.$implicit;\n      const template_r49 = i0.ɵɵnextContext().$implicit;\n      const ctx_r67 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r67.deleteSection(template_r49.id, section_r51.id));\n    });\n    i0.ɵɵtext(9, \"Delete Section\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_div_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r66);\n      const section_r51 = restoredCtx.$implicit;\n      const ctx_r69 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r69.loadFields(section_r51));\n    });\n    i0.ɵɵtext(11, \"View Fields\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, ListTemplateComponent_ng_container_22_ng_container_2_div_15_div_12_Template, 4, 1, \"div\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const section_r51 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(section_r51.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Type: \", section_r51.type, \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", section_r51.fields);\n  }\n}\nfunction ListTemplateComponent_ng_container_22_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 23);\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵelement(2, \"div\", 37);\n    i0.ɵɵelementStart(3, \"div\", 38)(4, \"div\", 39)(5, \"div\", 1);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 40);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 41)(10, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r71);\n      const template_r49 = restoredCtx.$implicit;\n      const ctx_r70 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r70.editTemplate(template_r49));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r71);\n      const template_r49 = restoredCtx.$implicit;\n      const ctx_r72 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r72.deleteTemplate(template_r49));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 44);\n    i0.ɵɵtemplate(15, ListTemplateComponent_ng_container_22_ng_container_2_div_15_Template, 13, 3, \"div\", 45);\n    i0.ɵɵelementStart(16, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_container_22_ng_container_2_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r71);\n      const template_r49 = restoredCtx.$implicit;\n      const ctx_r73 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r73.editSection(template_r49.id));\n    });\n    i0.ɵɵtext(17, \"Add Section\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const template_r49 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(template_r49.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r49.uniqeCode);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", template_r49.sections);\n  }\n}\nfunction ListTemplateComponent_ng_container_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 35);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_container_22_ng_container_2_Template, 18, 3, \"ng-container\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredTemplateList);\n  }\n}\nfunction ListTemplateComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.params.controls[\"id\"].value ? \"Edit Template\" : \"Add Template\");\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title must be at least 3 characters long.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title cannot be more than 100 characters long.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_27_div_5_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_template_27_div_5_div_2_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(3, ListTemplateComponent_ng_template_27_div_5_div_3_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r74 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r74.params.controls[\"title\"].errors == null ? null : ctx_r74.params.controls[\"title\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r74.params.controls[\"title\"].errors == null ? null : ctx_r74.params.controls[\"title\"].errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r74.params.controls[\"title\"].errors == null ? null : ctx_r74.params.controls[\"title\"].errors[\"maxlength\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Unique Code is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Unique Code must follow the pattern SI-XXX.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_27_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_27_div_10_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_template_27_div_10_div_2_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r75 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r75.params.controls[\"uniqeCode\"].errors == null ? null : ctx_r75.params.controls[\"uniqeCode\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r75.params.controls[\"uniqeCode\"].errors == null ? null : ctx_r75.params.controls[\"uniqeCode\"].errors[\"pattern\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r82 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 54);\n    i0.ɵɵlistener(\"ngSubmit\", function ListTemplateComponent_ng_template_27_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r82);\n      const ctx_r81 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r81.saveTemplate());\n    });\n    i0.ɵɵelementStart(1, \"div\", 55)(2, \"label\", 56);\n    i0.ɵɵtext(3, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 57);\n    i0.ɵɵtemplate(5, ListTemplateComponent_ng_template_27_div_5_Template, 4, 3, \"div\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 55)(7, \"label\", 59);\n    i0.ɵɵtext(8, \"Unique Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 60);\n    i0.ɵɵtemplate(10, ListTemplateComponent_ng_template_27_div_10_Template, 3, 2, \"div\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 61)(12, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_template_27_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r82);\n      i0.ɵɵnextContext();\n      const _r2 = i0.ɵɵreference(24);\n      return i0.ɵɵresetView(_r2.close());\n    });\n    i0.ɵɵtext(13, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 63);\n    i0.ɵɵtext(15, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r6.params);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.params.controls[\"title\"].invalid && ctx_r6.params.controls[\"title\"].touched);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.params.controls[\"uniqeCode\"].invalid && ctx_r6.params.controls[\"uniqeCode\"].touched);\n  }\n}\nfunction ListTemplateComponent_ng_template_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.sectionParams.controls[\"id\"].value ? \"Edit Section\" : \"Add Section\");\n  }\n}\nfunction ListTemplateComponent_ng_template_33_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_33_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_33_div_5_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r84 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r84.sectionParams.controls[\"title\"].errors == null ? null : ctx_r84.sectionParams.controls[\"title\"].errors[\"required\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_33_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_33_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_33_div_16_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r85 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r85.sectionParams.controls[\"title\"].errors == null ? null : ctx_r85.sectionParams.controls[\"title\"].errors[\"required\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r89 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 54);\n    i0.ɵɵlistener(\"ngSubmit\", function ListTemplateComponent_ng_template_33_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r88 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r88.saveSection());\n    });\n    i0.ɵɵelementStart(1, \"div\", 55)(2, \"label\", 65);\n    i0.ɵɵtext(3, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 66);\n    i0.ɵɵtemplate(5, ListTemplateComponent_ng_template_33_div_5_Template, 2, 1, \"div\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 55)(7, \"label\");\n    i0.ɵɵtext(8, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"label\");\n    i0.ɵɵelement(11, \"input\", 67);\n    i0.ɵɵtext(12, \" Form \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵelement(14, \"input\", 68);\n    i0.ɵɵtext(15, \" Table \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, ListTemplateComponent_ng_template_33_div_16_Template, 2, 1, \"div\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 61)(18, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_template_33_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r89);\n      i0.ɵɵnextContext();\n      const _r7 = i0.ɵɵreference(30);\n      return i0.ɵɵresetView(_r7.close());\n    });\n    i0.ɵɵtext(19, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 63);\n    i0.ɵɵtext(21, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r11.sectionParams);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.sectionParams.controls[\"title\"].invalid && ctx_r11.sectionParams.controls[\"title\"].touched);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.sectionParams.controls[\"title\"].invalid && ctx_r11.sectionParams.controls[\"title\"].touched);\n  }\n}\nfunction ListTemplateComponent_ng_template_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r14.fieldParams.controls[\"id\"].value ? \"Edit Field\" : \"Add Field\");\n  }\n}\nfunction ListTemplateComponent_ng_template_39_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_39_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title must be at least 3 characters long.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_39_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Title cannot be more than 100 characters long.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_39_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_39_div_5_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, ListTemplateComponent_ng_template_39_div_5_div_2_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(3, ListTemplateComponent_ng_template_39_div_5_div_3_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r91 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r91.fieldParams.controls[\"title\"].errors == null ? null : ctx_r91.fieldParams.controls[\"title\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r91.fieldParams.controls[\"title\"].errors == null ? null : ctx_r91.fieldParams.controls[\"title\"].errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r91.fieldParams.controls[\"title\"].errors == null ? null : ctx_r91.fieldParams.controls[\"title\"].errors[\"maxlength\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_39_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Type is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListTemplateComponent_ng_template_39_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtemplate(1, ListTemplateComponent_ng_template_39_div_18_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r92 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r92.fieldParams.controls[\"type\"].errors == null ? null : ctx_r92.fieldParams.controls[\"type\"].errors[\"required\"]);\n  }\n}\nfunction ListTemplateComponent_ng_template_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r98 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 54);\n    i0.ɵɵlistener(\"ngSubmit\", function ListTemplateComponent_ng_template_39_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r98);\n      const ctx_r97 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r97.saveField());\n    });\n    i0.ɵɵelementStart(1, \"div\", 55)(2, \"label\", 69);\n    i0.ɵɵtext(3, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 70);\n    i0.ɵɵtemplate(5, ListTemplateComponent_ng_template_39_div_5_Template, 4, 3, \"div\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 55)(7, \"label\", 71);\n    i0.ɵɵtext(8, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"select\", 72)(10, \"option\", 73);\n    i0.ɵɵtext(11, \"Text\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"option\", 74);\n    i0.ɵɵtext(13, \"Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 75);\n    i0.ɵɵtext(15, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 76);\n    i0.ɵɵtext(17, \"Boolean\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, ListTemplateComponent_ng_template_39_div_18_Template, 2, 1, \"div\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 55)(20, \"label\", 77);\n    i0.ɵɵtext(21, \"Required\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 61)(24, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function ListTemplateComponent_ng_template_39_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r98);\n      i0.ɵɵnextContext();\n      const _r12 = i0.ɵɵreference(36);\n      return i0.ɵɵresetView(_r12.close());\n    });\n    i0.ɵɵtext(25, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 63);\n    i0.ɵɵtext(27, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r16.fieldParams);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.fieldParams.controls[\"title\"].invalid && ctx_r16.fieldParams.controls[\"title\"].touched);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.fieldParams.controls[\"type\"].invalid && ctx_r16.fieldParams.controls[\"type\"].touched);\n  }\n}\nconst _c4 = function (a0) {\n  return {\n    \"bg-primary text-white\": a0\n  };\n};\nexport class ListTemplateComponent {\n  constructor(fb, templateService) {\n    this.fb = fb;\n    this.templateService = templateService;\n    this.filteredTemplateList = [];\n    this.searchTemplate = '';\n    this.templateList = [];\n    this.displayType = 'list';\n    this.selectedTemplateId = null;\n    this.selectedSectionId = null;\n  }\n  ngOnInit() {\n    this.initForm();\n    this.initSectionForm();\n    this.initFieldForm();\n    this.loadTemplates();\n  }\n  initForm() {\n    this.params = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      uniqeCode: ['', [Validators.required, Validators.pattern(/^[A-Z]{2}-\\d{3}$/)]]\n    });\n  }\n  initSectionForm() {\n    this.sectionParams = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      type: ['', Validators.required]\n    });\n  }\n  initFieldForm() {\n    this.fieldParams = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      type: ['', Validators.required],\n      isRequired: [false, Validators.required]\n    });\n  }\n  loadTemplates() {\n    this.templateService.getAllTemplates().subscribe(templates => {\n      this.templateList = templates;\n      this.searchTemplates();\n    });\n  }\n  searchTemplates() {\n    this.filteredTemplateList = this.templateList.filter(template => template.title.toLowerCase().includes(this.searchTemplate.toLowerCase()));\n  }\n  editTemplate(template = null) {\n    if (this.addTemplateModal) {\n      this.addTemplateModal.open();\n      this.initForm();\n      if (template) {\n        this.params.setValue({\n          id: template.id,\n          title: template.title,\n          uniqeCode: template.uniqeCode\n        });\n      }\n    } else {\n      console.error('addTemplateModal is not defined');\n    }\n  }\n  saveTemplate() {\n    if (this.params.invalid) {\n      this.showMessage('Please fill all required fields correctly.', 'error');\n      return;\n    }\n    const template = this.params.value;\n    if (template.id) {\n      this.templateService.updateTemplate(template.id.toString(), template).subscribe(() => {\n        const existingTemplate = this.templateList.find(t => t.id === template.id);\n        if (existingTemplate) {\n          Object.assign(existingTemplate, template);\n        }\n        this.searchTemplates();\n        this.showMessage('Template has been updated successfully.');\n        this.addTemplateModal.close();\n      });\n    } else {\n      this.templateService.addTemplate(template).subscribe(newTemplate => {\n        this.templateList.unshift(newTemplate);\n        this.searchTemplates();\n        this.showMessage('Template has been added successfully.');\n        this.addTemplateModal.close();\n      }, error => {\n        this.showMessage('Failed to add template. Please try again.', 'error');\n      });\n    }\n  }\n  deleteTemplate(template) {\n    this.templateService.deleteTemplate(template.id.toString()).subscribe(() => {\n      this.templateList = this.templateList.filter(t => t.id !== template.id);\n      this.searchTemplates();\n      this.showMessage('Template has been deleted successfully.');\n    }, error => {\n      this.showMessage(error, 'error');\n    });\n  }\n  showMessage(msg, type = 'success') {\n    Swal.fire({\n      icon: type,\n      title: msg,\n      toast: true,\n      position: 'top',\n      showConfirmButton: false,\n      timer: 3000,\n      customClass: {\n        container: 'toast'\n      }\n    });\n  }\n  // Section methods\n  loadSections(templateId) {\n    this.templateService.getTemplateById(templateId.toString()).subscribe(template => {\n      const existingTemplate = this.templateList.find(t => t.id === templateId);\n      if (existingTemplate) {\n        existingTemplate.sections = template.sections;\n      }\n    });\n  }\n  editSection(templateId, section = null) {\n    this.selectedTemplateId = templateId;\n    this.addSectionModal.open();\n    this.initSectionForm();\n    if (section) {\n      this.sectionParams.setValue({\n        id: section.id,\n        title: section.title,\n        type: section.type\n      });\n    }\n  }\n  saveSection() {\n    if (this.sectionParams.invalid) {\n      this.showMessage('Please fill all required fields.', 'error');\n      return;\n    }\n    const section = this.sectionParams.value;\n    const templateId = this.selectedTemplateId;\n    if (templateId !== null) {\n      const addSectionDTO = {\n        title: section.title,\n        type: this.mapSectionType(section.type)\n      };\n      if (section.id) {\n        this.templateService.updateSection(templateId.toString(), section.id.toString(), addSectionDTO).subscribe(() => {\n          const template = this.templateList.find(t => t.id === templateId);\n          if (template && template.sections) {\n            const existingSection = template.sections.find(s => s.id === section.id);\n            if (existingSection) {\n              Object.assign(existingSection, section);\n            }\n          }\n          this.showMessage('Section has been updated successfully.');\n          this.addSectionModal.close();\n        }, error => this.handleErrorResponse(error));\n      } else {\n        this.templateService.addSection(templateId.toString(), addSectionDTO).subscribe(newSection => {\n          const template = this.templateList.find(t => t.id === templateId);\n          if (template) {\n            if (!template.sections) {\n              template.sections = [];\n            }\n            template.sections.push(newSection);\n          }\n          this.showMessage('Section has been added successfully.');\n          this.addSectionModal.close();\n        }, error => this.handleErrorResponse(error));\n      }\n    }\n  }\n  mapSectionType(type) {\n    const sectionTypeMap = {\n      'Form': 0,\n      'Table': 1\n    };\n    return sectionTypeMap[type] ?? 0;\n  }\n  handleErrorResponse(error) {\n    console.error('Error response:', error);\n    console.error('Error details:', JSON.stringify(error.error));\n    this.showMessage(error.error?.message || 'An unknown error occurred!', 'error');\n  }\n  deleteSection(templateId, sectionId) {\n    this.templateService.deleteSection(templateId.toString(), sectionId.toString()).subscribe(() => {\n      const template = this.templateList.find(t => t.id === templateId);\n      if (template && template.sections) {\n        template.sections = template.sections.filter(s => s.id !== sectionId);\n      }\n      this.showMessage('Section has been deleted successfully.');\n    }, error => {\n      this.showMessage(error, 'error');\n    });\n  }\n  getTemplateIdBySectionId(sectionId) {\n    for (const template of this.templateList) {\n      if (template.sections) {\n        for (const section of template.sections) {\n          if (section.id === sectionId) {\n            return template.id;\n          }\n        }\n      }\n    }\n    return undefined;\n  }\n  // Field methods\n  editField(section, field = null) {\n    this.selectedSectionId = section.id;\n    const templateId = this.getTemplateIdBySectionId(section.id);\n    this.selectedTemplateId = templateId !== undefined ? templateId : null;\n    this.addFieldModal.open();\n    this.initFieldForm();\n    if (field) {\n      this.fieldParams.setValue({\n        id: field.id,\n        title: field.title,\n        type: field.type,\n        isRequired: field.isRequired\n      });\n    }\n  }\n  saveField() {\n    if (this.fieldParams.invalid) {\n      this.showMessage('Please fill all required fields.', 'error');\n      return;\n    }\n    const field = this.fieldParams.value;\n    const sectionId = this.selectedSectionId;\n    const templateId = this.selectedTemplateId;\n    if (templateId != null && sectionId != null) {\n      const addFieldDTO = {\n        title: field.title,\n        type: this.mapFieldType(field.type),\n        isRequired: field.isRequired\n      };\n      if (field.id != null && field.id !== 0) {\n        this.templateService.updateField(templateId.toString(), sectionId.toString(), field.id.toString(), addFieldDTO).subscribe(() => {\n          this.showMessage('Field updated successfully');\n          this.addFieldModal.close();\n        }, error => this.handleErrorResponse(error));\n      } else {\n        this.templateService.addField(templateId.toString(), sectionId.toString(), addFieldDTO).subscribe(newField => {\n          this.showMessage('Field added successfully');\n          this.addFieldModal.close();\n        }, error => this.handleErrorResponse(error));\n      }\n    } else {\n      this.showMessage('Template ID or Section ID is missing.', 'error');\n    }\n  }\n  mapFieldType(type) {\n    const fieldTypeMap = {\n      'Text': 0,\n      'Number': 1,\n      'Date': 2,\n      'Boolean': 3\n    };\n    return fieldTypeMap[type];\n  }\n  deleteField(section, fieldId) {\n    const templateId = this.getTemplateIdBySectionId(section.id);\n    if (templateId !== undefined) {\n      this.templateService.deleteField(templateId.toString(), section.id.toString(), fieldId.toString()).subscribe(() => {\n        const template = this.templateList.find(t => t.id === templateId);\n        const existingSection = template?.sections?.find(s => s.id === section.id);\n        if (existingSection && existingSection.fields) {\n          existingSection.fields = existingSection.fields.filter(f => f.id !== fieldId);\n        }\n        this.showMessage('Field has been deleted successfully.');\n      }, error => {\n        this.showMessage(error, 'error');\n      });\n    } else {\n      this.showMessage('Failed to delete field: Template ID is missing.', 'error');\n    }\n  }\n  loadFields(section) {\n    const templateId = this.selectedTemplateId;\n    if (templateId !== null) {\n      this.templateService.getSectionFields(templateId.toString(), section.id.toString()).subscribe(fields => {\n        section.fields = fields;\n      });\n    }\n  }\n  static #_ = this.ɵfac = function ListTemplateComponent_Factory(t) {\n    return new (t || ListTemplateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TemplateService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListTemplateComponent,\n    selectors: [[\"app-list-template\"]],\n    viewQuery: function ListTemplateComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addTemplateModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addSectionModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addFieldModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addContactModal = _t.first);\n      }\n    },\n    decls: 41,\n    vars: 9,\n    consts: [[1, \"flex\", \"flex-wrap\", \"items-center\", \"justify-between\", \"gap-4\"], [1, \"text-xl\"], [1, \"flex\", \"w-full\", \"flex-col\", \"gap-4\", \"sm:w-auto\", \"sm:flex-row\", \"sm:items-center\", \"sm:gap-3\"], [1, \"flex\", \"gap-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"ltr:mr-2\", \"rtl:ml-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"p-2\", 3, \"ngClass\", \"click\"], [1, \"relative\"], [\"type\", \"text\", \"placeholder\", \"Search Templates\", \"name\", \"searchTemplate\", 1, \"peer\", \"form-input\", \"py-2\", \"ltr:pr-11\", \"rtl:pl-11\", 3, \"ngModel\", \"ngModelChange\"], [1, \"absolute\", \"top-1/2\", \"-translate-y-1/2\", \"peer-focus:text-primary\", \"ltr:right-[11px]\", \"rtl:left-[11px]\"], [1, \"mx-auto\"], [1, \"panel\", \"mt-5\", \"overflow-hidden\", \"border-0\", \"p-0\"], [4, \"ngIf\"], [1, \"no-footer\"], [\"addTemplateModal\", \"\"], [\"modalHeader\", \"\"], [\"modalBody\", \"\"], [\"addSectionModal\", \"\"], [\"addFieldModal\", \"\"], [1, \"table-responsive\"], [1, \"table-striped\", \"table-hover\"], [1, \"!text-center\"], [\"key\", \"template.id\", 4, \"ngFor\", \"ngForOf\"], [\"key\", \"template.id\"], [1, \"flex\", \"items-center\", \"justify-center\", \"gap-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"click\"], [\"colspan\", \"4\"], [\"key\", \"section.id\", 4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"3\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-success\", 3, \"click\"], [\"key\", \"section.id\"], [\"key\", \"field.id\", 4, \"ngFor\", \"ngForOf\"], [\"key\", \"field.id\"], [1, \"grid\", \"w-full\", \"grid-cols-1\", \"gap-6\", \"sm:grid-cols-2\", \"xl:grid-cols-3\", \"2xl:grid-cols-4\"], [1, \"relative\", \"overflow-hidden\", \"rounded-md\", \"bg-white\", \"text-center\", \"shadow\", \"dark:bg-[#1c232f]\"], [1, \"rounded-t-md\", \"bg-white/40\", \"bg-[url('/assets/images/notification-bg.png')]\", \"bg-cover\", \"bg-center\", \"p-6\", \"pb-0\"], [1, \"relative\", \"-mt-10\", \"px-6\", \"pb-24\"], [1, \"rounded-md\", \"bg-white\", \"px-2\", \"py-4\", \"shadow-md\", \"dark:bg-gray-900\"], [1, \"text-white-dark\"], [1, \"absolute\", \"bottom-0\", \"mt-6\", \"flex\", \"w-full\", \"gap-4\", \"p-6\", \"ltr:left-0\", \"rtl:right-0\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"w-1/2\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", \"w-1/2\", 3, \"click\"], [1, \"section-list\", \"mt-4\"], [\"class\", \"section-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"section-item\"], [1, \"section-actions\"], [\"class\", \"field-list\", 4, \"ngIf\"], [1, \"field-list\"], [\"class\", \"field-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"field-item\"], [1, \"field-actions\"], [1, \"!font-medium\"], [\"ngNativeValidate\", \"\", 1, \"text-sm\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-5\"], [\"for\", \"title\"], [\"id\", \"title\", \"type\", \"text\", \"placeholder\", \"Enter Title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"class\", \"text-red-500\", 4, \"ngIf\"], [\"for\", \"uniqeCode\"], [\"id\", \"uniqeCode\", \"type\", \"text\", \"placeholder\", \"Enter Unique Code\", \"formControlName\", \"uniqeCode\", 1, \"form-input\"], [1, \"mt-8\", \"flex\", \"items-center\", \"justify-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"ltr:ml-4\", \"rtl:ml-4\"], [1, \"text-red-500\"], [\"for\", \"sectionTitle\"], [\"id\", \"sectionTitle\", \"type\", \"text\", \"placeholder\", \"Enter Title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"type\", \"radio\", \"formControlName\", \"type\", \"value\", \"form\"], [\"type\", \"radio\", \"formControlName\", \"type\", \"value\", \"table\"], [\"for\", \"fieldTitle\"], [\"id\", \"fieldTitle\", \"type\", \"text\", \"placeholder\", \"Enter Title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"for\", \"fieldType\"], [\"id\", \"fieldType\", \"formControlName\", \"type\", 1, \"form-select\"], [\"value\", \"Text\"], [\"value\", \"Number\"], [\"value\", \"Date\"], [\"value\", \"Boolean\"], [\"for\", \"isRequired\"], [\"id\", \"isRequired\", \"type\", \"checkbox\", \"formControlName\", \"isRequired\"]],\n    template: function ListTemplateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"h2\", 1);\n        i0.ɵɵtext(3, \"Templates\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\")(7, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function ListTemplateComponent_Template_button_click_7_listener() {\n          return ctx.editTemplate();\n        });\n        i0.ɵɵelement(8, \"icon-user-plus\", 5);\n        i0.ɵɵtext(9, \" Add Template \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\")(11, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ListTemplateComponent_Template_button_click_11_listener() {\n          return ctx.displayType = \"list\";\n        });\n        i0.ɵɵelement(12, \"icon-list-check\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\")(14, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ListTemplateComponent_Template_button_click_14_listener() {\n          return ctx.displayType = \"grid\";\n        });\n        i0.ɵɵelement(15, \"icon-layout-grid\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"div\", 7)(17, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ListTemplateComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.searchTemplate = $event;\n        })(\"ngModelChange\", function ListTemplateComponent_Template_input_ngModelChange_17_listener() {\n          return ctx.searchTemplates();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 9);\n        i0.ɵɵelement(19, \"icon-search\", 10);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(20, \"div\", 11);\n        i0.ɵɵtemplate(21, ListTemplateComponent_ng_container_21_Template, 15, 1, \"ng-container\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, ListTemplateComponent_ng_container_22_Template, 3, 1, \"ng-container\", 12);\n        i0.ɵɵelementStart(23, \"modal\", 13, 14);\n        i0.ɵɵtemplate(25, ListTemplateComponent_ng_template_25_Template, 2, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(27, ListTemplateComponent_ng_template_27_Template, 16, 3, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"modal\", 13, 17);\n        i0.ɵɵtemplate(31, ListTemplateComponent_ng_template_31_Template, 2, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(33, ListTemplateComponent_ng_template_33_Template, 22, 3, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"modal\", 13, 18);\n        i0.ɵɵtemplate(37, ListTemplateComponent_ng_template_37_Template, 2, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(39, ListTemplateComponent_ng_template_39_Template, 28, 3, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c4, ctx.displayType === \"list\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c4, ctx.displayType === \"grid\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTemplate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayType === \"list\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayType === \"grid\");\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.RadioControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.NgModel, i4.ModalComponent, i1.FormGroupDirective, i1.FormControlName, i5.IconLayoutGridComponent, i6.IconListCheckComponent, i7.IconSearchComponent, i8.IconUserPlusComponent],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0LXRlbXBsYXRlLmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcXJ0ZW1wbGF0ZWdlbmVyYXRvci9jb21wb25lbnRzL2xpc3QtdGVtcGxhdGUvbGlzdC10ZW1wbGF0ZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw0S0FBNEsiLCJzb3VyY2VSb290IjoiIn0= */\"],\n    data: {\n      animation: [trigger('toggleAnimation', [transition(':enter', [style({\n        opacity: 0,\n        transform: 'scale(0.95)'\n      }), animate('100ms ease-out', style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))]), transition(':leave', [animate('75ms', style({\n        opacity: 0,\n        transform: 'scale(0.95)'\n      }))])])]\n    }\n  });\n}","map":{"version":3,"mappings":"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","names":["animate","style","transition","trigger","Validators","Swal","i0","ListTemplateComponent","constructor","fb","templateService","ngOnInit","initForm","initSectionForm","initFieldForm","loadTemplates","params","group","id","title","required","minLength","maxLength","uniqeCode","pattern","sectionParams","type","fieldParams","isRequired","getAllTemplates","subscribe","templates","templateList","searchTemplates","filteredTemplateList","filter","template","toLowerCase","includes","searchTemplate","editTemplate","addTemplateModal","open","setValue","console","error","saveTemplate","invalid","showMessage","value","updateTemplate","toString","existingTemplate","find","t","Object","assign","close","addTemplate","newTemplate","unshift","deleteTemplate","msg","fire","icon","toast","position","showConfirmButton","timer","customClass","container","loadSections","templateId","getTemplateById","sections","editSection","section","selectedTemplateId","addSectionModal","saveSection","addSectionDTO","mapSectionType","updateSection","existingSection","s","handleErrorResponse","addSection","newSection","push","sectionTypeMap","JSON","stringify","message","deleteSection","sectionId","getTemplateIdBySectionId","undefined","editField","field","selectedSectionId","addFieldModal","saveField","addFieldDTO","mapFieldType","updateField","addField","newField","fieldTypeMap","deleteField","fieldId","fields","f","loadFields","getSectionFields","selectors","viewQuery","ctx","opacity","transform"],"sourceRoot":"","sources":["C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\list-template\\list-template.component.ts","C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\list-template\\list-template.component.html"],"sourcesContent":["import { Component, ViewChild, OnInit } from '@angular/core';\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { ModalComponent } from 'angular-custom-modal';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n\nimport Swal from 'sweetalert2';\nimport { TemplateService } from 'src/app/qrtemplategenerator/services/template.service';\nimport { Template} from 'src/app/qrtemplategenerator/Models/Template';\nimport { Section } from 'src/app/qrtemplategenerator/Models/Section';\nimport { Field } from 'src/app/qrtemplategenerator/Models/Field';\n\n@Component({\n  selector: 'app-list-template',\n  templateUrl: './list-template.component.html',\n  styleUrls: ['./list-template.component.css'],\n  animations: [\n    trigger('toggleAnimation', [\n      transition(':enter', [\n        style({ opacity: 0, transform: 'scale(0.95)' }),\n        animate('100ms ease-out', style({ opacity: 1, transform: 'scale(1)' }))\n      ]),\n      transition(':leave', [\n        animate('75ms', style({ opacity: 0, transform: 'scale(0.95)' }))\n      ]),\n    ]),\n  ],\n})\nexport class ListTemplateComponent implements OnInit {\n  @ViewChild('addTemplateModal') addTemplateModal!: ModalComponent;\n  @ViewChild('addSectionModal') addSectionModal!: ModalComponent;\n  @ViewChild('addFieldModal') addFieldModal!: ModalComponent;\n  @ViewChild('addContactModal') addContactModal!: ModalComponent;\n  params!: FormGroup;\n  sectionParams!: FormGroup;\n  fieldParams!: FormGroup;\n\n  filteredTemplateList: Template[] = [];\n  searchTemplate = '';\n  templateList: Template[] = [];\n  \n  displayType = 'list';\n  \n  selectedTemplateId: number | null = null;\n  selectedSectionId: number | null = null;\n\n  constructor(private fb: FormBuilder, private templateService: TemplateService) {}\n\n  ngOnInit() {\n    this.initForm();\n    this.initSectionForm();\n    this.initFieldForm();\n    this.loadTemplates();\n  }\n\n  initForm() {\n    this.params = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      uniqeCode: ['', [Validators.required, Validators.pattern(/^[A-Z]{2}-\\d{3}$/)]],\n    });\n  }\n\n\n  initSectionForm() {\n    this.sectionParams = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      type: ['', Validators.required],\n    });\n  }\n\n  initFieldForm() {\n    this.fieldParams = this.fb.group({\n      id: [0],\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      type: ['', Validators.required],\n      isRequired: [false, Validators.required],\n    });\n  }\n\n  loadTemplates() {\n    this.templateService.getAllTemplates().subscribe((templates) => {\n      this.templateList = templates;\n      this.searchTemplates();\n    });\n  }\n\n  searchTemplates() {\n    this.filteredTemplateList = this.templateList.filter(template =>\n      template.title.toLowerCase().includes(this.searchTemplate.toLowerCase())\n    );\n  }\n\n  editTemplate(template: Template | null = null) {\n    if (this.addTemplateModal) {\n      this.addTemplateModal.open();\n      this.initForm();\n      if (template) {\n        this.params.setValue({\n          id: template.id,\n          title: template.title,\n          uniqeCode: template.uniqeCode,\n        });\n      }\n    } else {\n      console.error('addTemplateModal is not defined');\n    }\n  }\n\n  saveTemplate() {\n    if (this.params.invalid) {\n      this.showMessage('Please fill all required fields correctly.', 'error');\n      return;\n    }\n  \n    const template: Template = this.params.value;\n  \n    if (template.id) {\n      this.templateService.updateTemplate(template.id.toString(), template).subscribe(() => {\n        const existingTemplate = this.templateList.find(t => t.id === template.id);\n        if (existingTemplate) {\n          Object.assign(existingTemplate, template);\n        }\n        this.searchTemplates();\n        this.showMessage('Template has been updated successfully.');\n        this.addTemplateModal.close();\n      });\n    } else {\n      this.templateService.addTemplate(template).subscribe((newTemplate) => {\n        this.templateList.unshift(newTemplate);\n        this.searchTemplates();\n        this.showMessage('Template has been added successfully.');\n        this.addTemplateModal.close();\n      }, (error) => {\n        this.showMessage('Failed to add template. Please try again.', 'error');\n      });\n    }\n  }\n  deleteTemplate(template: Template) {\n    this.templateService.deleteTemplate(template.id.toString()).subscribe(() => {\n      this.templateList = this.templateList.filter(t => t.id !== template.id);\n      this.searchTemplates();\n      this.showMessage('Template has been deleted successfully.');\n    }, error => {\n      this.showMessage(error, 'error');\n    });\n  }\n\n  showMessage(msg: string, type: 'success' | 'error' = 'success') {\n    Swal.fire({\n      icon: type,\n      title: msg,\n      toast: true,\n      position: 'top',\n      showConfirmButton: false,\n      timer: 3000,\n      customClass: { container: 'toast' },\n    });\n  }\n\n  // Section methods\n  loadSections(templateId: number) {\n    this.templateService.getTemplateById(templateId.toString()).subscribe((template) => {\n      const existingTemplate = this.templateList.find(t => t.id === templateId);\n      if (existingTemplate) {\n        existingTemplate.sections = template.sections;\n      }\n    });\n  }\n\n  editSection(templateId: number, section: Section | null = null) {\n    this.selectedTemplateId = templateId;\n    this.addSectionModal.open();\n    this.initSectionForm();\n    if (section) {\n      this.sectionParams.setValue({\n        id: section.id,\n        title: section.title,\n        type: section.type,\n      });\n    }\n  }\n\n  saveSection() {\n    if (this.sectionParams.invalid) {\n      this.showMessage('Please fill all required fields.', 'error');\n      return;\n    }\n  \n    const section: Section = this.sectionParams.value;\n    const templateId = this.selectedTemplateId;\n  \n    \n  \n    if (templateId !== null) {\n      const addSectionDTO = {\n        title: section.title,\n        type: this.mapSectionType(section.type) \n      };\n  \n   \n  \n      if (section.id) {\n       \n        this.templateService.updateSection(templateId.toString(), section.id.toString(), addSectionDTO)\n          .subscribe(\n            () => {\n              const template = this.templateList.find(t => t.id === templateId);\n              if (template && template.sections) {\n                const existingSection = template.sections.find(s => s.id === section.id);\n                if (existingSection) {\n                  Object.assign(existingSection, section);\n                }\n              }\n              this.showMessage('Section has been updated successfully.');\n              this.addSectionModal.close();\n            },\n            (error) => this.handleErrorResponse(error)\n          );\n      } else {\n       \n        this.templateService.addSection(templateId.toString(), addSectionDTO)\n          .subscribe(\n            (newSection) => {\n              const template = this.templateList.find(t => t.id === templateId);\n              if (template) {\n                if (!template.sections) {\n                  template.sections = [];\n                }\n                template.sections.push(newSection);\n              }\n              this.showMessage('Section has been added successfully.');\n              this.addSectionModal.close();\n            },\n            (error) => this.handleErrorResponse(error)\n          );\n      }\n    }\n  }\n  \n \n  private mapSectionType(type: any): number {\n    const sectionTypeMap: { [key: string]: number } = {\n      'Form': 0,\n      'Table': 1,\n    };\n    return sectionTypeMap[type] ?? 0; \n  }\n  \n \n  private handleErrorResponse(error: any) {\n    console.error('Error response:', error);\n    console.error('Error details:', JSON.stringify(error.error));\n    this.showMessage(error.error?.message || 'An unknown error occurred!', 'error');\n  }\n  \n  deleteSection(templateId: number, sectionId: number) {\n    this.templateService.deleteSection(templateId.toString(), sectionId.toString()).subscribe(() => {\n      const template = this.templateList.find(t => t.id === templateId);\n      if (template && template.sections) {\n        template.sections = template.sections.filter(s => s.id !== sectionId);\n      }\n      this.showMessage('Section has been deleted successfully.');\n    }, error => {\n      this.showMessage(error, 'error');\n    });\n  }\n\n  getTemplateIdBySectionId(sectionId: number): number | undefined {\n    for (const template of this.templateList) {\n      if (template.sections) { \n        for (const section of template.sections) {\n          if (section.id === sectionId) {\n            return template.id;\n          }\n        }\n      }\n    }\n    return undefined;\n  }\n\n  // Field methods\n  editField(section: Section, field: Field | null = null) {\n    this.selectedSectionId = section.id;\n    const templateId = this.getTemplateIdBySectionId(section.id);\n    this.selectedTemplateId = templateId !== undefined ? templateId : null; \n    this.addFieldModal.open();  \n    this.initFieldForm();  \n    if (field) {\n      this.fieldParams.setValue({\n        id: field.id,\n        title: field.title,\n        type: field.type,\n        isRequired: field.isRequired,\n      });\n    }\n  }\n  \n\n  saveField() {\n   \n    \n    if (this.fieldParams.invalid) {\n      this.showMessage('Please fill all required fields.', 'error');\n      return;\n    }\n  \n    const field: Field = this.fieldParams.value;\n    const sectionId = this.selectedSectionId;\n    const templateId = this.selectedTemplateId;\n  \n  \n  \n    if (templateId != null && sectionId != null) {\n      const addFieldDTO = {\n        title: field.title,\n        type: this.mapFieldType(field.type), // Convert type correctly\n        isRequired: field.isRequired,\n      };\n  \n    \n  \n      if (field.id != null && field.id !== 0) {\n       \n        this.templateService.updateField(templateId.toString(), sectionId.toString(), field.id.toString(), addFieldDTO)\n          .subscribe(\n            () => {\n              this.showMessage('Field updated successfully');\n              this.addFieldModal.close();\n            },\n            (error) => this.handleErrorResponse(error)\n          );\n      } else {\n      \n        this.templateService.addField(templateId.toString(), sectionId.toString(), addFieldDTO)\n          .subscribe(\n            (newField) => {\n              this.showMessage('Field added successfully');\n              this.addFieldModal.close();\n            },\n            (error) => this.handleErrorResponse(error)\n          );\n      }\n    } else {\n      this.showMessage('Template ID or Section ID is missing.', 'error');\n    }\n  }\n  \n \n  private mapFieldType(type: any): number {\n    const fieldTypeMap: { [key: string]: number } = {\n      'Text': 0,\n      'Number': 1,\n      'Date': 2,\n      'Boolean': 3,\n    };\n    return fieldTypeMap[type]; \n  }\n  \n  \n\n  deleteField(section: Section, fieldId: number) {\n    const templateId = this.getTemplateIdBySectionId(section.id); \n    \n   \n  \n    if (templateId !== undefined) {  \n      this.templateService.deleteField(templateId.toString(), section.id.toString(), fieldId.toString()).subscribe(() => {\n        const template = this.templateList.find(t => t.id === templateId);\n        const existingSection = template?.sections?.find(s => s.id === section.id);\n        if (existingSection && existingSection.fields) {\n          existingSection.fields = existingSection.fields.filter(f => f.id !== fieldId);\n        }\n        this.showMessage('Field has been deleted successfully.');\n      }, error => {\n        this.showMessage(error, 'error');\n      });\n    } else {\n      this.showMessage('Failed to delete field: Template ID is missing.', 'error');\n    }\n  }\n  \n  \n\n \n  loadFields(section: Section) {\n    const templateId = this.selectedTemplateId;\n    if (templateId !== null) {\n      this.templateService.getSectionFields(templateId.toString(), section.id.toString()).subscribe((fields) => {\n        section.fields = fields;\n      });\n    }\n  }\n\n}","<div>\n    <div class=\"flex flex-wrap items-center justify-between gap-4\">\n        <h2 class=\"text-xl\">Templates</h2>\n        <div class=\"flex w-full flex-col gap-4 sm:w-auto sm:flex-row sm:items-center sm:gap-3\">\n            <div class=\"flex gap-3\">\n                <div>\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"editTemplate()\">\n                        <icon-user-plus class=\"ltr:mr-2 rtl:ml-2\" />\n                        Add Template\n                    </button>\n                </div>\n                <div>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-outline-primary p-2\"\n                        [ngClass]=\"{ 'bg-primary text-white': displayType === 'list' }\"\n                        (click)=\"displayType = 'list'\"\n                    >\n                        <icon-list-check />\n                    </button>\n                </div>\n                <div>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-outline-primary p-2\"\n                        [ngClass]=\"{ 'bg-primary text-white': displayType === 'grid' }\"\n                        (click)=\"displayType = 'grid'\"\n                    >\n                        <icon-layout-grid />\n                    </button>\n                </div>\n            </div>\n  \n            <div class=\"relative\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search Templates\"\n                    class=\"peer form-input py-2 ltr:pr-11 rtl:pl-11\"\n                    [(ngModel)]=\"searchTemplate\"\n                    name=\"searchTemplate\"\n                    (ngModelChange)=\"searchTemplates()\"\n                />\n                <div class=\"absolute top-1/2 -translate-y-1/2 peer-focus:text-primary ltr:right-[11px] rtl:left-[11px]\">\n                    <icon-search class=\"mx-auto\" />\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel mt-5 overflow-hidden border-0 p-0\">\n        <ng-container *ngIf=\"displayType === 'list'\">\n            <div class=\"table-responsive\">\n                <table class=\"table-striped table-hover\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>Title</th>\n                            <th>Unique Code</th>\n                            <th class=\"!text-center\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ng-container *ngFor=\"let template of filteredTemplateList\" key=\"template.id\">\n                            <tr>\n                                <td>{{ template.id }}</td>\n                                <td>{{ template.title }}</td>\n                                <td>{{ template.uniqeCode }}</td>\n                                <td>\n                                    <div class=\"flex items-center justify-center gap-4\">\n                                        <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"editTemplate(template)\">Edit</button>\n                                        <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteTemplate(template)\">Delete</button>\n                                        <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" (click)=\"loadSections(template.id)\">View Sections</button>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr *ngIf=\"template.sections\">\n                                <td colspan=\"4\">\n                                    <div class=\"table-responsive\">\n                                        <table class=\"table-striped table-hover\">\n                                            <thead>\n                                                <tr>\n                                                    <th>Section Title</th>\n                                                    <th>Type</th>\n                                                    <th class=\"!text-center\">Actions</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                <ng-container *ngFor=\"let section of template.sections\" key=\"section.id\">\n                                                    <tr>\n                                                        <td>{{ section.title }}</td>\n                                                        <td>{{ section.type }}</td>\n                                                        <td>\n                                                            <div class=\"flex items-center justify-center gap-4\">\n                                                                <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"editSection(template.id, section)\">Edit Section</button>\n                                                                <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteSection(template.id, section.id)\">Delete Section</button>\n                                                                <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" (click)=\"loadFields(section)\">View Fields</button>\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n                                                    <tr *ngIf=\"section.fields\">\n                                                        <td colspan=\"3\">\n                                                            <div class=\"table-responsive\">\n                                                                <table class=\"table-striped table-hover\">\n                                                                    <thead>\n                                                                        <tr>\n                                                                            <th>Field Title</th>\n                                                                            <th>Type</th>\n                                                                            <th>Required</th>\n                                                                            <th class=\"!text-center\">Actions</th>\n                                                                        </tr>\n                                                                    </thead>\n                                                                    <tbody>\n                                                                        <ng-container *ngFor=\"let field of section.fields\" key=\"field.id\">\n                                                                            <tr>\n                                                                                <td>{{ field.title }}</td>\n                                                                                <td>{{ field.type }}</td>\n                                                                                <td>{{ field.isRequired ? 'Yes' : 'No' }}</td>\n                                                                                <td>\n                                                                                    <div class=\"flex items-center justify-center gap-4\">\n                                                                                        <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"editField(section, field)\">Edit Field</button>\n                                                                                        <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteField(section, field.id)\">Delete Field</button>\n                                                                                    </div>\n                                                                                </td>\n                                                                            </tr>\n                                                                        </ng-container>\n                                                                        <tr>\n                                                                            <td colspan=\"4\">\n                                                                                <button type=\"button\" class=\"btn btn-sm btn-outline-success\" (click)=\"editField(section)\">Add Field</button>\n                                                                            </td>\n                                                                        </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n                                                </ng-container>\n                                                <tr>\n                                                    <td colspan=\"3\">\n                                                        <button type=\"button\" class=\"btn btn-sm btn-outline-success\" (click)=\"editSection(template.id)\">Add Section</button>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </td>\n                            </tr>\n                        </ng-container>\n                    </tbody>\n                </table>\n            </div>\n        </ng-container>\n    </div>\n    <ng-container *ngIf=\"displayType === 'grid'\">\n        <div class=\"grid w-full grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\">\n            <ng-container *ngFor=\"let template of filteredTemplateList\" key=\"template.id\">\n                <div class=\"relative overflow-hidden rounded-md bg-white text-center shadow dark:bg-[#1c232f]\">\n                    <div class=\"rounded-t-md bg-white/40 bg-[url('/assets/images/notification-bg.png')] bg-cover bg-center p-6 pb-0\">\n                        <!-- Optional: Add an image/placeholder if needed -->\n                    </div>\n                    <div class=\"relative -mt-10 px-6 pb-24\">\n                        <div class=\"rounded-md bg-white px-2 py-4 shadow-md dark:bg-gray-900\">\n                            <div class=\"text-xl\">{{ template.title }}</div>\n                            <div class=\"text-white-dark\">{{ template.uniqeCode }}</div>\n                        </div>\n                        <div class=\"absolute bottom-0 mt-6 flex w-full gap-4 p-6 ltr:left-0 rtl:right-0\">\n                            <button type=\"button\" class=\"btn btn-outline-primary w-1/2\" (click)=\"editTemplate(template)\">Edit</button>\n                            <button type=\"button\" class=\"btn btn-outline-danger w-1/2\" (click)=\"deleteTemplate(template)\">Delete</button>\n                        </div>\n                        <div class=\"section-list mt-4\">\n                            <div *ngFor=\"let section of template.sections\" class=\"section-item\">\n                                <h3>{{ section.title }}</h3>\n                                <p>Type: {{ section.type }}</p>\n                                <div class=\"section-actions\">\n                                    <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"editSection(template.id, section)\">Edit Section</button>\n                                    <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteSection(template.id, section.id)\">Delete Section</button>\n                                    <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" (click)=\"loadFields(section)\">View Fields</button>\n                                </div>\n                                <div *ngIf=\"section.fields\" class=\"field-list\">\n                                    <div *ngFor=\"let field of section.fields\" class=\"field-item\">\n                                        <h4>{{ field.title }}</h4>\n                                        <p>Type: {{ field.type }}</p>\n                                        <p>Required: {{ field.isRequired ? 'Yes' : 'No' }}</p>\n                                        <div class=\"field-actions\">\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"editField(section, field)\">Edit Field</button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteField(section, field.id)\">Delete Field</button>\n                                        </div>\n                                    </div>\n                                    <button type=\"button\" class=\"btn btn-sm btn-outline-success\" (click)=\"editField(section)\">Add Field</button>\n                                </div>\n                            </div>\n                            <button type=\"button\" class=\"btn btn-sm btn-outline-success\" (click)=\"editSection(template.id)\">Add Section</button>\n                        </div>\n                    </div>\n                </div>\n            </ng-container>\n        </div>\n    </ng-container>\n  \n    <!-- Add/Edit Template Modal -->\n    <modal #addTemplateModal class=\"no-footer\">\n        <ng-template #modalHeader>\n            <div class=\"!font-medium\">{{ params.controls['id'].value ? 'Edit Template' : 'Add Template' }}</div>\n        </ng-template>\n        <ng-template #modalBody>\n            <form [formGroup]=\"params\" class=\"text-sm\" (ngSubmit)=\"saveTemplate()\" ngNativeValidate>\n                <div class=\"mb-5\">\n                    <label for=\"title\">Title</label>\n                    <input id=\"title\" type=\"text\" placeholder=\"Enter Title\" class=\"form-input\" formControlName=\"title\" />\n                    <div *ngIf=\"params.controls['title'].invalid && params.controls['title'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"params.controls['title'].errors?.['required']\">Title is required.</div>\n                        <div *ngIf=\"params.controls['title'].errors?.['minlength']\">Title must be at least 3 characters long.</div>\n                        <div *ngIf=\"params.controls['title'].errors?.['maxlength']\">Title cannot be more than 100 characters long.</div>\n                    </div>\n                </div>\n                <div class=\"mb-5\">\n                    <label for=\"uniqeCode\">Unique Code</label>\n                    <input id=\"uniqeCode\" type=\"text\" placeholder=\"Enter Unique Code\" class=\"form-input\" formControlName=\"uniqeCode\" />\n                    <div *ngIf=\"params.controls['uniqeCode'].invalid && params.controls['uniqeCode'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"params.controls['uniqeCode'].errors?.['required']\">Unique Code is required.</div>\n                        <div *ngIf=\"params.controls['uniqeCode'].errors?.['pattern']\">Unique Code must follow the pattern SI-XXX.</div>\n                    </div>\n                </div>\n                <div class=\"mt-8 flex items-center justify-end\">\n                    <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"addTemplateModal.close()\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-primary ltr:ml-4 rtl:ml-4\">Save</button>\n                </div>\n            </form>\n        </ng-template>\n    </modal>\n  \n    <!-- Add/Edit Section Modal -->\n    <modal #addSectionModal class=\"no-footer\">\n        <ng-template #modalHeader>\n            <div class=\"!font-medium\">{{ sectionParams.controls['id'].value ? 'Edit Section' : 'Add Section' }}</div>\n        </ng-template>\n        <ng-template #modalBody>\n            <form [formGroup]=\"sectionParams\" class=\"text-sm\" (ngSubmit)=\"saveSection()\" ngNativeValidate>\n                <div class=\"mb-5\">\n                    <label for=\"sectionTitle\">Title</label>\n                    <input id=\"sectionTitle\" type=\"text\" placeholder=\"Enter Title\" class=\"form-input\" formControlName=\"title\" />\n                    <div *ngIf=\"sectionParams.controls['title'].invalid && sectionParams.controls['title'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"sectionParams.controls['title'].errors?.['required']\">Title is required.</div>\n                    </div>\n                </div>\n                <div class=\"mb-5\">\n                    <label>Type</label>\n                    <div>\n                        <label>\n                            <input type=\"radio\" formControlName=\"type\" value=\"form\" /> Form\n                        </label>\n                        <label>\n                            <input type=\"radio\" formControlName=\"type\" value=\"table\" /> Table\n                        </label>\n                    </div>\n                    <div *ngIf=\"sectionParams.controls['title'].invalid && sectionParams.controls['title'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"sectionParams.controls['title'].errors?.['required']\">Title is required.</div>\n                    </div>\n                </div>\n                <div class=\"mt-8 flex items-center justify-end\">\n                    <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"addSectionModal.close()\">Cancel</button>\n                    <button type=\"submit\" class=\"btn btn-primary ltr:ml-4 rtl:ml-4\">Save</button>\n                </div>\n            </form>\n        </ng-template>\n    </modal>\n  \n    <!-- Add/Edit Field Modal -->\n    <modal #addFieldModal class=\"no-footer\">\n        <ng-template #modalHeader>\n            <div class=\"!font-medium\">{{ fieldParams.controls['id'].value ? 'Edit Field' : 'Add Field' }}</div>\n        </ng-template>\n        <ng-template #modalBody>\n            <form [formGroup]=\"fieldParams\" class=\"text-sm\" (ngSubmit)=\"saveField()\" ngNativeValidate>\n                <div class=\"mb-5\">\n                    <label for=\"fieldTitle\">Title</label>\n                    <input id=\"fieldTitle\" type=\"text\" placeholder=\"Enter Title\" class=\"form-input\" formControlName=\"title\" />\n                    <div *ngIf=\"fieldParams.controls['title'].invalid && fieldParams.controls['title'].touched\" class=\"text-red-500\">\n                        <div *ngIf=\"fieldParams.controls['title'].errors?.['required']\">Title is required.</div>\n                        <div *ngIf=\"fieldParams.controls['title'].errors?.['minlength']\">Title must be at least 3 characters long.</div>\n                        <div *ngIf=\"fieldParams.controls['title'].errors?.['maxlength']\">Title cannot be more than 100 characters long.</div>\n                    </div>\n                </div>\n                <div class=\"mb-5\">\n                    <label for=\"fieldType\">Type</label>\n                    \n          <select id=\"fieldType\" class=\"form-select\" formControlName=\"type\">\n            <option value=\"Text\">Text</option>\n            <option value=\"Number\">Number</option>\n            <option value=\"Date\">Date</option>\n            <option value=\"Boolean\">Boolean</option>\n          </select>\n          <div *ngIf=\"fieldParams.controls['type'].invalid && fieldParams.controls['type'].touched\" class=\"text-red-500\">\n            <div *ngIf=\"fieldParams.controls['type'].errors?.['required']\">Type is required.</div>\n          </div>\n        </div>\n        <div class=\"mb-5\">\n          <label for=\"isRequired\">Required</label>\n          <input id=\"isRequired\" type=\"checkbox\" formControlName=\"isRequired\" />\n        </div>\n        <div class=\"mt-8 flex items-center justify-end\">\n          <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"addFieldModal.close()\">Cancel</button>\n          <button type=\"submit\" class=\"btn btn-primary ltr:ml-4 rtl:ml-4\">Save</button>\n        </div>\n      </form>\n    </ng-template>\n  </modal>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}