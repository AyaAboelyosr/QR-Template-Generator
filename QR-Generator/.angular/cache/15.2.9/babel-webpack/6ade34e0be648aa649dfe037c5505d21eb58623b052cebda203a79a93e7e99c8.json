{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/qrtemplategenerator/services/template.service\";\nimport * as i3 from \"@angular/common\";\nfunction TemplateDetailsComponent_ng_container_24_tr_10_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const field_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r4.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r4.isRequired ? \"Yes\" : \"No\");\n  }\n}\nfunction TemplateDetailsComponent_ng_container_24_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 16)(2, \"div\", 17)(3, \"table\", 10)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Field Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Required\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, TemplateDetailsComponent_ng_container_24_tr_10_tr_13_Template, 7, 3, \"tr\", 12);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const section_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", section_r1.fields);\n  }\n}\nfunction TemplateDetailsComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"div\", 13)(8, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TemplateDetailsComponent_ng_container_24_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const section_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.toggleSection(section_r1));\n    });\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(10, TemplateDetailsComponent_ng_container_24_tr_10_Template, 14, 1, \"tr\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(section_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(section_r1.type);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", section_r1.expanded ? \"Hide Fields\" : \"View Fields\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r1.expanded);\n  }\n}\nexport class TemplateDetailsComponent {\n  constructor(route, templateService) {\n    this.route = route;\n    this.templateService = templateService;\n    this.selectedSectionId = null;\n    this.selectedTemplateId = null;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.loadTemplateDetails(+id);\n    }\n  }\n  loadTemplateDetails(id) {\n    this.templateService.getTemplateById(id.toString()).subscribe({\n      next: template => {\n        this.template = template;\n        this.template.sections?.forEach(s => {\n          s.expanded = false;\n          if (s.fields) {\n            s.fields.forEach(f => f.expanded = false);\n          }\n        });\n      },\n      error: err => Swal.fire('Error', 'Failed to load template details', 'error')\n    });\n  }\n  toggleSection(section) {\n    if (!section.fields) {\n      this.templateService.getSectionFields(this.template.id.toString(), section.id.toString()).subscribe(fields => {\n        section.fields = fields;\n        section.expanded = !section.expanded;\n      });\n    } else {\n      section.expanded = !section.expanded;\n    }\n  }\n  toggleField(field) {\n    field.expanded = !field.expanded;\n  }\n  static #_ = this.ɵfac = function TemplateDetailsComponent_Factory(t) {\n    return new (t || TemplateDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.TemplateService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TemplateDetailsComponent,\n    selectors: [[\"app-template-details\"]],\n    decls: 25,\n    vars: 4,\n    consts: [[1, \"p-4\"], [1, \"mb-4\"], [\"routerLink\", \"/templates\", 1, \"btn\", \"btn-outline-primary\"], [1, \"panel\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-xl\", \"font-semibold\"], [1, \"flex\", \"gap-2\"], [1, \"badge\", \"badge-outline-primary\"], [1, \"badge\", \"badge-outline-secondary\"], [1, \"table-responsive\"], [1, \"table-striped\", \"table-hover\"], [1, \"!text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"justify-center\", \"gap-2\"], [1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"click\"], [4, \"ngIf\"], [\"colspan\", \"3\"], [1, \"ml-4\"]],\n    template: function TemplateDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵtext(3, \" Back to Templates \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"h2\", 5);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 9)(14, \"table\", 10)(15, \"thead\")(16, \"tr\")(17, \"th\");\n        i0.ɵɵtext(18, \"Section Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\");\n        i0.ɵɵtext(20, \"Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 11);\n        i0.ɵɵtext(22, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"tbody\");\n        i0.ɵɵtemplate(24, TemplateDetailsComponent_ng_container_24_Template, 11, 4, \"ng-container\", 12);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.template == null ? null : ctx.template.title);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"ID: \", ctx.template == null ? null : ctx.template.id, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.template == null ? null : ctx.template.uniqeCode);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", ctx.template == null ? null : ctx.template.sections);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i1.RouterLink],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0ZW1wbGF0ZS1kZXRhaWxzLmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcXJ0ZW1wbGF0ZWdlbmVyYXRvci9jb21wb25lbnRzL3RlbXBsYXRlLWRldGFpbHMvdGVtcGxhdGUtZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxnTEFBZ0wiLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"AAIA,OAAOA,IAAI,MAAM,aAAa;;;;;;;IC8CNC,0BAAyC;IACnCA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAqC;IAAAA,iBAAK;;;;IAF1CA,eAAiB;IAAjBA,oCAAiB;IACjBA,eAAgB;IAAhBA,mCAAgB;IAChBA,eAAqC;IAArCA,wDAAqC;;;;;IAfrDA,0BAA6B;IAMbA,2BAAW;IAAAA,iBAAK;IACpBA,0BAAI;IAAAA,oBAAI;IAAAA,iBAAK;IACbA,2BAAI;IAAAA,yBAAQ;IAAAA,iBAAK;IAGrBA,8BAAO;IACLA,gGAIK;IACPA,iBAAQ;;;;IALgBA,gBAAiB;IAAjBA,2CAAiB;;;;;;IAxBnDA,6BAAyD;IACvDA,0BAAI;IACEA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAEQA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB;IAAA,EAAC;IACtCA,YACF;IAAAA,iBAAS;IAIfA,2FAqBK;IACPA,0BAAe;;;;IAhCPA,eAAmB;IAAnBA,sCAAmB;IACnBA,eAAkB;IAAlBA,qCAAkB;IAIhBA,eACF;IADEA,oFACF;IAIDA,eAAsB;IAAtBA,0CAAsB;;;ADzBzC,OAAM,MAAOC,wBAAwB;EAKnCC,YACUC,KAAqB,EACrBC,eAAgC;IADhC,UAAK,GAALD,KAAK;IACL,oBAAe,GAAfC,eAAe;IALzB,sBAAiB,GAAkB,IAAI;IACvC,uBAAkB,GAAkB,IAAI;EAKpC;EAEJC,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACI,mBAAmB,CAAC,CAACJ,EAAE,CAAC;;EAEjC;EAEAI,mBAAmB,CAACJ,EAAU;IAC5B,IAAI,CAACF,eAAe,CAACO,eAAe,CAACL,EAAE,CAACM,QAAQ,EAAE,CAAC,CAACC,SAAS,CAAC;MAC5DC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;QACxB,IAAI,CAACA,QAAQ,CAACC,QAAQ,EAAEC,OAAO,CAACC,CAAC,IAAG;UAClCA,CAAC,CAACC,QAAQ,GAAG,KAAK;UAClB,IAAID,CAAC,CAACE,MAAM,EAAE;YACZF,CAAC,CAACE,MAAM,CAACH,OAAO,CAACI,CAAC,IAAIA,CAAC,CAACF,QAAQ,GAAG,KAAK,CAAC;;QAE7C,CAAC,CAAC;MACJ,CAAC;MACDG,KAAK,EAAGC,GAAG,IAAKxB,IAAI,CAACyB,IAAI,CAAC,OAAO,EAAE,iCAAiC,EAAE,OAAO;KAC9E,CAAC;EACJ;EAEAC,aAAa,CAACC,OAAgB;IAC5B,IAAI,CAACA,OAAO,CAACN,MAAM,EAAE;MACnB,IAAI,CAAChB,eAAe,CAACuB,gBAAgB,CACnC,IAAI,CAACZ,QAAQ,CAACT,EAAE,CAACM,QAAQ,EAAE,EAC3Bc,OAAO,CAACpB,EAAE,CAACM,QAAQ,EAAE,CACtB,CAACC,SAAS,CAACO,MAAM,IAAG;QACnBM,OAAO,CAACN,MAAM,GAAGA,MAAM;QACvBM,OAAO,CAACP,QAAQ,GAAG,CAACO,OAAO,CAACP,QAAQ;MACtC,CAAC,CAAC;KACH,MAAM;MACLO,OAAO,CAACP,QAAQ,GAAG,CAACO,OAAO,CAACP,QAAQ;;EAExC;EAEAS,WAAW,CAACC,KAAY;IACtBA,KAAK,CAACV,QAAQ,GAAG,CAACU,KAAK,CAACV,QAAQ;EAClC;EAAC;qBAhDUlB,wBAAwB;EAAA;EAAA;UAAxBA,wBAAwB;IAAA6B;IAAAC;IAAAC;IAAAC;IAAAlB;MAAA;QCbrCf,8BAAiB;QAGRA,mCACH;QAAAA,iBAAI;QAGNA,8BAAmB;QAEmBA,YAAqB;QAAAA,iBAAK;QAC5DA,8BAAwB;QACmBA,aAAsB;QAAAA,iBAAM;QACrEA,+BAA2C;QAAAA,aAAyB;QAAAA,iBAAM;QAI9EA,+BAA8B;QAIlBA,8BAAa;QAAAA,iBAAK;QACtBA,2BAAI;QAAAA,qBAAI;QAAAA,iBAAK;QACbA,+BAAyB;QAAAA,wBAAO;QAAAA,iBAAK;QAGzCA,8BAAO;QACLA,+FAkCe;QACjBA,iBAAQ;;;QApDwBA,eAAqB;QAArBA,sEAAqB;QAEZA,eAAsB;QAAtBA,gFAAsB;QACpBA,eAAyB;QAAzBA,0EAAyB;QAchCA,gBAAqB;QAArBA,6EAAqB","names":["Swal","i0","TemplateDetailsComponent","constructor","route","templateService","ngOnInit","id","snapshot","paramMap","get","loadTemplateDetails","getTemplateById","toString","subscribe","next","template","sections","forEach","s","expanded","fields","f","error","err","fire","toggleSection","section","getSectionFields","toggleField","field","selectors","decls","vars","consts"],"sourceRoot":"","sources":["C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\template-details\\template-details.component.ts","C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\template-details\\template-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { TemplateService } from 'src/app/qrtemplategenerator/services/template.service';\nimport { Template } from 'src/app/qrtemplategenerator/Models/Template';\nimport Swal from 'sweetalert2';\nimport { Section } from '../../Models/Section';\nimport { Field } from '../../Models/Field';\n\n@Component({\n  selector: 'app-template-details',\n  templateUrl: './template-details.component.html',\n  styleUrls: ['./template-details.component.css']\n})\nexport class TemplateDetailsComponent implements OnInit {\n  template!: Template;\n  selectedSectionId: number | null = null;\n  selectedTemplateId: number | null = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private templateService: TemplateService\n  ) { }\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.loadTemplateDetails(+id);\n    }\n  }\n\n  loadTemplateDetails(id: number) {\n    this.templateService.getTemplateById(id.toString()).subscribe({\n      next: (template) => {\n        this.template = template;\n        this.template.sections?.forEach(s => {\n          s.expanded = false;\n          if (s.fields) {\n            s.fields.forEach(f => f.expanded = false);\n          }\n        });\n      },\n      error: (err) => Swal.fire('Error', 'Failed to load template details', 'error')\n    });\n  }\n\n  toggleSection(section: Section) {\n    if (!section.fields) {\n      this.templateService.getSectionFields(\n        this.template.id.toString(),\n        section.id.toString()\n      ).subscribe(fields => {\n        section.fields = fields;\n        section.expanded = !section.expanded;\n      });\n    } else {\n      section.expanded = !section.expanded;\n    }\n  }\n\n  toggleField(field: Field) {\n    field.expanded = !field.expanded;\n  }\n}","<div class=\"p-4\">\n    <div class=\"mb-4\">\n      <a routerLink=\"/templates\" class=\"btn btn-outline-primary\">\n         Back to Templates\n      </a>\n    </div>\n  \n    <div class=\"panel\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h2 class=\"text-xl font-semibold\">{{ template?.title }}</h2>\n        <div class=\"flex gap-2\">\n          <div class=\"badge badge-outline-primary\">ID: {{ template?.id }}</div>\n          <div class=\"badge badge-outline-secondary\">{{ template?.uniqeCode }}</div>\n        </div>\n      </div>\n  \n      <div class=\"table-responsive\">\n        <table class=\"table-striped table-hover\">\n          <thead>\n            <tr>\n              <th>Section Title</th>\n              <th>Type</th>\n              <th class=\"!text-center\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <ng-container *ngFor=\"let section of template?.sections\">\n              <tr>\n                <td>{{ section.title }}</td>\n                <td>{{ section.type }}</td>\n                <td>\n                  <div class=\"flex items-center justify-center gap-2\">\n                    <button (click)=\"toggleSection(section)\" class=\"btn btn-sm btn-outline-secondary\">\n                      {{ section.expanded ? 'Hide Fields' : 'View Fields' }}\n                    </button>\n                  </div>\n                </td>\n              </tr>\n              <tr *ngIf=\"section.expanded\">\n                <td colspan=\"3\">\n                  <div class=\"ml-4\">\n                    <table class=\"table-striped table-hover\">\n                      <thead>\n                        <tr>\n                          <th>Field Title</th>\n                          <th>Type</th>\n                          <th>Required</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr *ngFor=\"let field of section.fields\">\n                          <td>{{ field.title }}</td>\n                          <td>{{ field.type }}</td>\n                          <td>{{ field.isRequired ? 'Yes' : 'No' }}</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </td>\n              </tr>\n            </ng-container>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}