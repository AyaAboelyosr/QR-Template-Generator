{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Electronica Care/Downloads/QRCodeGenerator-main/QR-Generator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { slideDownUp } from '../shared/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../authentication/services/auth.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../shared/icon/menu/icon-menu-documentation\";\nimport * as i7 from \"../shared/icon/icon-carets-down\";\nfunction SidebarComponent_ul_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 10)(1, \"li\", 11)(2, \"a\", 12)(3, \"div\", 13);\n    i0.ɵɵelement(4, \"icon-menu-documentation\", 14);\n    i0.ɵɵelementStart(5, \"span\", 15);\n    i0.ɵɵtext(6, \"QR Code Generator\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"a\", 16)(8, \"div\", 13);\n    i0.ɵɵelement(9, \"icon-menu-documentation\", 14);\n    i0.ɵɵelementStart(10, \"span\", 15);\n    i0.ɵɵtext(11, \"QR Template Generator\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"a\", 17)(13, \"div\", 13);\n    i0.ɵɵelement(14, \"icon-menu-documentation\", 14);\n    i0.ɵɵelementStart(15, \"span\", 15);\n    i0.ɵɵtext(16, \"Login\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"dark text-white-dark\": a0\n  };\n};\nexport class SidebarComponent {\n  constructor(translate, storeData, router, authService) {\n    this.translate = translate;\n    this.storeData = storeData;\n    this.router = router;\n    this.authService = authService;\n    this.active = false;\n    this.activeDropdown = [];\n    this.parentDropdown = '';\n    this.showContent = false;\n    this.isLoggedIn = false;\n    this.initStore();\n  }\n  initStore() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.storeData.select(d => d.index).subscribe(d => {\n        _this.store = d;\n      });\n    })();\n  }\n  ngOnInit() {\n    this.authService.isLoggedIn$.subscribe(loggedIn => {\n      this.isLoggedIn = loggedIn;\n      this.showContent = loggedIn;\n      const role = this.authService.getRole();\n      if (loggedIn && role === 'Admin') {\n        this.router.navigate(['/QRCodeGenerator/qrgenerator']);\n      }\n    });\n    this.setActiveDropdown();\n  }\n  setActiveDropdown() {\n    const selector = document.querySelector('.sidebar ul a[routerLink=\"' + window.location.pathname + '\"]');\n    if (selector) {\n      selector.classList.add('active');\n      const ul = selector.closest('ul.sub-menu');\n      if (ul) {\n        let ele = ul.closest('li.menu').querySelectorAll('.nav-link') || [];\n        if (ele.length) {\n          ele = ele[0];\n          setTimeout(() => {\n            ele.click();\n          });\n        }\n      }\n    }\n  }\n  toggleMobileMenu() {\n    if (window.innerWidth < 1024) {\n      this.storeData.dispatch({\n        type: 'toggleSidebar'\n      });\n    }\n  }\n  toggleAccordion(name, parent) {\n    if (this.activeDropdown.includes(name)) {\n      this.activeDropdown = this.activeDropdown.filter(d => d !== name);\n    } else {\n      this.activeDropdown.push(name);\n    }\n  }\n  static #_ = this.ɵfac = function SidebarComponent_Factory(t) {\n    return new (t || SidebarComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AuthService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SidebarComponent,\n    selectors: [[\"sidebar\"]],\n    decls: 11,\n    vars: 4,\n    consts: [[3, \"ngClass\"], [1, \"sidebar\", \"fixed\", \"bottom-0\", \"top-0\", \"z-50\", \"h-full\", \"min-h-screen\", \"w-[260px]\", \"shadow-[5px_0_25px_0_rgba(94,92,154,0.1)]\", \"transition-all\", \"duration-300\"], [1, \"h-full\", \"bg-white\", \"dark:bg-[#0e1726]\"], [1, \"flex\", \"items-center\", \"justify-between\", \"px-4\", \"py-3\"], [\"routerLink\", \"/\", 1, \"main-logo\", \"flex\", \"shrink-0\", \"items-center\"], [\"src\", \"https://sdq.sa/uploads/settings/logo-2024-10-16-10-54-20-6838.svg\", \"alt\", \"\", 1, \"ml-[5px]\", \"w-8\", \"flex-none\"], [1, \"align-middle\", \"text-2xl\", \"font-semibold\", \"ltr:ml-1.5\", \"rtl:mr-1.5\", \"dark:text-white-light\", \"lg:inline\"], [\"href\", \"javascript:;\", 1, \"collapse-icon\", \"flex\", \"h-8\", \"w-8\", \"items-center\", \"rounded-full\", \"transition\", \"duration-300\", \"hover:bg-gray-500/10\", \"hover:text-primary\", \"rtl:rotate-180\", \"dark:text-white-light\", \"dark:hover:bg-dark-light/10\", 3, \"click\"], [1, \"m-auto\", \"rotate-90\"], [\"class\", \"relative space-y-0.5 p-4 py-0 font-semibold\", 4, \"ngIf\"], [1, \"relative\", \"space-y-0.5\", \"p-4\", \"py-0\", \"font-semibold\"], [1, \"menu\", \"nav-item\"], [\"routerLink\", \"QRCodeGenerator/qrgenerator\", 1, \"nav-link\", \"group\"], [1, \"flex\", \"items-center\"], [1, \"shrink-0\", \"group-hover:!text-primary\"], [1, \"text-black\", \"ltr:pl-3\", \"rtl:pr-3\", \"dark:text-[#506690]\", \"dark:group-hover:text-white-dark\"], [\"routerLink\", \"admin/list-template\", 1, \"nav-link\", \"group\"], [\"routerLink\", \"auth/login\", 1, \"nav-link\", \"group\"]],\n    template: function SidebarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"a\", 4);\n        i0.ɵɵelement(5, \"img\", 5);\n        i0.ɵɵelementStart(6, \"span\", 6);\n        i0.ɵɵtext(7, \"Sdq\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"a\", 7);\n        i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_8_listener() {\n          return ctx.storeData.dispatch({\n            type: \"toggleSidebar\"\n          });\n        });\n        i0.ɵɵelement(9, \"icon-carets-down\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(10, SidebarComponent_ul_10_Template, 17, 0, \"ul\", 9);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, ctx.store.semidark));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.showContent);\n      }\n    },\n    dependencies: [i3.RouterLink, i5.NgClass, i5.NgIf, i6.IconMenuDocumentationComponent, i7.IconCaretsDownComponent],\n    encapsulation: 2,\n    data: {\n      animation: [slideDownUp]\n    }\n  });\n}","map":{"version":3,"mappings":"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","names":["slideDownUp","i0","SidebarComponent","constructor","translate","storeData","router","authService","initStore","select","d","index","subscribe","store","ngOnInit","isLoggedIn$","loggedIn","isLoggedIn","showContent","role","getRole","navigate","setActiveDropdown","selector","document","querySelector","window","location","pathname","classList","add","ul","closest","ele","querySelectorAll","length","setTimeout","click","toggleMobileMenu","innerWidth","dispatch","type","toggleAccordion","name","parent","activeDropdown","includes","filter","push","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\layouts\\sidebar.ts","C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\layouts\\sidebar.html"],"sourcesContent":["import { animate, style, transition, trigger } from '@angular/animations';\r\nimport { Component } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { slideDownUp } from '../shared/animations';\r\nimport { AuthService } from '../authentication/services/auth.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'sidebar',\r\n    templateUrl: './sidebar.html',\r\n    animations: [slideDownUp],\r\n})\r\nexport class SidebarComponent {\r\n    active = false;\r\n    store: any;\r\n    activeDropdown: string[] = [];\r\n    parentDropdown: string = '';\r\n    showContent: boolean = false;\r\n    isLoggedIn: boolean = false;\r\n    constructor(public translate: TranslateService, public storeData: Store<any>, public router: Router,private authService:AuthService) {\r\n        this.initStore();\r\n    }\r\n    async initStore() {\r\n        this.storeData\r\n            .select((d) => d.index)\r\n            .subscribe((d) => {\r\n                this.store = d;\r\n            });\r\n    }\r\n\r\n  \r\n    ngOnInit() {\r\n        this.authService.isLoggedIn$.subscribe((loggedIn) => {\r\n          this.isLoggedIn = loggedIn;\r\n          this.showContent = loggedIn;\r\n      \r\n          const role = this.authService.getRole();\r\n          if (loggedIn && role === 'Admin') {\r\n            this.router.navigate(['/QRCodeGenerator/qrgenerator']);\r\n          }\r\n        });\r\n      \r\n        this.setActiveDropdown();\r\n      }\r\n      \r\n    setActiveDropdown() {\r\n        const selector = document.querySelector('.sidebar ul a[routerLink=\"' + window.location.pathname + '\"]');\r\n        if (selector) {\r\n            selector.classList.add('active');\r\n            const ul: any = selector.closest('ul.sub-menu');\r\n            if (ul) {\r\n                let ele: any = ul.closest('li.menu').querySelectorAll('.nav-link') || [];\r\n                if (ele.length) {\r\n                    ele = ele[0];\r\n                    setTimeout(() => {\r\n                        ele.click();\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleMobileMenu() {\r\n        if (window.innerWidth < 1024) {\r\n            this.storeData.dispatch({ type: 'toggleSidebar' });\r\n        }\r\n    }\r\n\r\n    toggleAccordion(name: string, parent?: string) {\r\n        if (this.activeDropdown.includes(name)) {\r\n            this.activeDropdown = this.activeDropdown.filter((d) => d !== name);\r\n        } else {\r\n            this.activeDropdown.push(name);\r\n        }\r\n    }\r\n}\r\n","<div [ngClass]=\"{ 'dark text-white-dark': store.semidark }\">\r\n    <nav class=\"sidebar fixed bottom-0 top-0 z-50 h-full min-h-screen w-[260px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-all duration-300\">\r\n        <div class=\"h-full bg-white dark:bg-[#0e1726]\">\r\n            <div class=\"flex items-center justify-between px-4 py-3\">\r\n                <a routerLink=\"/\" class=\"main-logo flex shrink-0 items-center\">\r\n                    <img class=\"ml-[5px] w-8 flex-none\" src=\"https://sdq.sa/uploads/settings/logo-2024-10-16-10-54-20-6838.svg\" alt=\"\" />\r\n                    <span class=\"align-middle text-2xl font-semibold ltr:ml-1.5 rtl:mr-1.5 dark:text-white-light lg:inline\">Sdq</span>\r\n                </a>\r\n                <a\r\n                    href=\"javascript:;\"\r\n                    class=\"collapse-icon flex h-8 w-8 items-center rounded-full transition duration-300 hover:bg-gray-500/10 hover:text-primary rtl:rotate-180 dark:text-white-light dark:hover:bg-dark-light/10\"\r\n                    (click)=\"storeData.dispatch({ type: 'toggleSidebar'})\"\r\n                >\r\n                    <icon-carets-down class=\"m-auto rotate-90\" />\r\n                </a>\r\n            </div>\r\n            <ul *ngIf=\"showContent\" class=\"relative space-y-0.5 p-4 py-0 font-semibold\">\r\n                <li class=\"menu nav-item\">\r\n                    <a routerLink=\"QRCodeGenerator/qrgenerator\" class=\"nav-link group\">\r\n                        <div class=\"flex items-center\">\r\n                            <icon-menu-documentation class=\"shrink-0 group-hover:!text-primary\" />\r\n\r\n                            <span class=\"text-black ltr:pl-3 rtl:pr-3 dark:text-[#506690] dark:group-hover:text-white-dark\"\r\n                                >QR Code Generator</span\r\n                            >\r\n                        </div>\r\n                    </a>\r\n\r\n\r\n                    <a routerLink=\"admin/list-template\" class=\"nav-link group\">\r\n                        <div class=\"flex items-center\">\r\n                            <icon-menu-documentation class=\"shrink-0 group-hover:!text-primary\" />\r\n\r\n                            <span class=\"text-black ltr:pl-3 rtl:pr-3 dark:text-[#506690] dark:group-hover:text-white-dark\"\r\n                                >QR Template Generator</span\r\n                            >\r\n                        </div>\r\n                    </a>\r\n\r\n                    <a routerLink=\"auth/login\" class=\"nav-link group\">\r\n                        <div class=\"flex items-center\">\r\n                            <icon-menu-documentation class=\"shrink-0 group-hover:!text-primary\" />\r\n\r\n                            <span class=\"text-black ltr:pl-3 rtl:pr-3 dark:text-[#506690] dark:group-hover:text-white-dark\"\r\n                                >Login</span\r\n                            >\r\n                        </div>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </nav>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}