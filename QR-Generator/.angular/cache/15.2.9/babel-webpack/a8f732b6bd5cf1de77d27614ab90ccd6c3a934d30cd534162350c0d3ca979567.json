{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet TemplateDetailsComponent = class TemplateDetailsComponent {\n  constructor(route, templateService) {\n    this.route = route;\n    this.templateService = templateService;\n    this.selectedSectionId = null;\n    this.selectedTemplateId = null;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.loadTemplateDetails(+id);\n    }\n  }\n  loadTemplateDetails(id) {\n    this.templateService.getTemplateById(id.toString()).subscribe({\n      next: template => {\n        this.template = template;\n        this.template.sections?.forEach(s => {\n          s.expanded = false;\n          if (s.fields) {\n            s.fields.forEach(f => f.expanded = false);\n          }\n        });\n      },\n      error: err => Swal.fire('Error', 'Failed to load template details', 'error')\n    });\n  }\n  toggleSection(section) {\n    if (!section.fields) {\n      this.templateService.getSectionFields(this.template.id.toString(), section.id.toString()).subscribe(fields => {\n        section.fields = fields;\n        section.expanded = !section.expanded;\n      });\n    } else {\n      section.expanded = !section.expanded;\n    }\n  }\n  toggleField(field) {\n    field.expanded = !field.expanded;\n  }\n};\nTemplateDetailsComponent = __decorate([Component({\n  selector: 'app-template-details',\n  templateUrl: './template-details.component.html',\n  styleUrls: ['./template-details.component.css']\n})], TemplateDetailsComponent);\nexport { TemplateDetailsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAIjD,OAAOC,IAAI,MAAM,aAAa;AASvB,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAKnCC,YACUC,KAAqB,EACrBC,eAAgC;IADhC,UAAK,GAALD,KAAK;IACL,oBAAe,GAAfC,eAAe;IALzB,sBAAiB,GAAkB,IAAI;IACvC,uBAAkB,GAAkB,IAAI;EAKpC;EAEJC,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACI,mBAAmB,CAAC,CAACJ,EAAE,CAAC;;EAEjC;EAEAI,mBAAmB,CAACJ,EAAU;IAC5B,IAAI,CAACF,eAAe,CAACO,eAAe,CAACL,EAAE,CAACM,QAAQ,EAAE,CAAC,CAACC,SAAS,CAAC;MAC5DC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;QACxB,IAAI,CAACA,QAAQ,CAACC,QAAQ,EAAEC,OAAO,CAACC,CAAC,IAAG;UAClCA,CAAC,CAACC,QAAQ,GAAG,KAAK;UAClB,IAAID,CAAC,CAACE,MAAM,EAAE;YACZF,CAAC,CAACE,MAAM,CAACH,OAAO,CAACI,CAAC,IAAIA,CAAC,CAACF,QAAQ,GAAG,KAAK,CAAC;;QAE7C,CAAC,CAAC;MACJ,CAAC;MACDG,KAAK,EAAGC,GAAG,IAAKvB,IAAI,CAACwB,IAAI,CAAC,OAAO,EAAE,iCAAiC,EAAE,OAAO;KAC9E,CAAC;EACJ;EAEAC,aAAa,CAACC,OAAgB;IAC5B,IAAI,CAACA,OAAO,CAACN,MAAM,EAAE;MACnB,IAAI,CAAChB,eAAe,CAACuB,gBAAgB,CACnC,IAAI,CAACZ,QAAQ,CAACT,EAAE,CAACM,QAAQ,EAAE,EAC3Bc,OAAO,CAACpB,EAAE,CAACM,QAAQ,EAAE,CACtB,CAACC,SAAS,CAACO,MAAM,IAAG;QACnBM,OAAO,CAACN,MAAM,GAAGA,MAAM;QACvBM,OAAO,CAACP,QAAQ,GAAG,CAACO,OAAO,CAACP,QAAQ;MACtC,CAAC,CAAC;KACH,MAAM;MACLO,OAAO,CAACP,QAAQ,GAAG,CAACO,OAAO,CAACP,QAAQ;;EAExC;EAEAS,WAAW,CAACC,KAAY;IACtBA,KAAK,CAACV,QAAQ,GAAG,CAACU,KAAK,CAACV,QAAQ;EAClC;CACD;AAjDYlB,wBAAwB,eALpCF,SAAS,CAAC;EACT+B,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,GACW/B,wBAAwB,CAiDpC;SAjDYA,wBAAwB","names":["Component","Swal","TemplateDetailsComponent","constructor","route","templateService","ngOnInit","id","snapshot","paramMap","get","loadTemplateDetails","getTemplateById","toString","subscribe","next","template","sections","forEach","s","expanded","fields","f","error","err","fire","toggleSection","section","getSectionFields","toggleField","field","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Electronica Care\\Downloads\\QRCodeGenerator-main\\QR-Generator\\src\\app\\qrtemplategenerator\\components\\template-details\\template-details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { TemplateService } from 'src/app/qrtemplategenerator/services/template.service';\nimport { Template } from 'src/app/qrtemplategenerator/Models/Template';\nimport Swal from 'sweetalert2';\nimport { Section } from '../../Models/Section';\nimport { Field } from '../../Models/Field';\n\n@Component({\n  selector: 'app-template-details',\n  templateUrl: './template-details.component.html',\n  styleUrls: ['./template-details.component.css']\n})\nexport class TemplateDetailsComponent implements OnInit {\n  template!: Template;\n  selectedSectionId: number | null = null;\n  selectedTemplateId: number | null = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private templateService: TemplateService\n  ) { }\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.loadTemplateDetails(+id);\n    }\n  }\n\n  loadTemplateDetails(id: number) {\n    this.templateService.getTemplateById(id.toString()).subscribe({\n      next: (template) => {\n        this.template = template;\n        this.template.sections?.forEach(s => {\n          s.expanded = false;\n          if (s.fields) {\n            s.fields.forEach(f => f.expanded = false);\n          }\n        });\n      },\n      error: (err) => Swal.fire('Error', 'Failed to load template details', 'error')\n    });\n  }\n\n  toggleSection(section: Section) {\n    if (!section.fields) {\n      this.templateService.getSectionFields(\n        this.template.id.toString(),\n        section.id.toString()\n      ).subscribe(fields => {\n        section.fields = fields;\n        section.expanded = !section.expanded;\n      });\n    } else {\n      section.expanded = !section.expanded;\n    }\n  }\n\n  toggleField(field: Field) {\n    field.expanded = !field.expanded;\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}